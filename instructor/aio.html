<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to R  üéÑ The Xmas edition üéÑ: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/lc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/lc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/lc/favicon-16x16.png">
<link rel="manifest" href="../favicons/lc/site.webmanifest">
<link rel="mask-icon" href="../favicons/lc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav library"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="lc-logo" alt="Library Carpentry" src="../assets/images/library-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>


      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav library" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Library Carpentry" src="../assets/images/library-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to R  üéÑ The Xmas edition üéÑ
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to R  üéÑ The Xmas edition üéÑ
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr></ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to R  üéÑ The Xmas edition üéÑ
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress library">
    <div class="progress-bar library" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-intro.html">1. Before we Start</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="01-intro-to-r.html">2. Introduction to R</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="02-starting-with-data.html">3. Starting with Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="03-dplyr-tidyr.html">4. Data Wrangling with dplyr and tidyr</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-functions-plots.html">5. A couple of plots. And making our own functions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="whats-next.html">6. What is the next step?</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
</ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-00-intro"><p>Content from <a href="00-intro.html">Before we Start</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/00-intro.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 15 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How to find your way around RStudio?</li>
<li>How to interact with R?</li>
<li>How to manage your environment?</li>
<li>How to install packages?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Install latest version of R.</li>
<li>Install latest version of RStudio.</li>
<li>Navigate the RStudio GUI.</li>
<li>Install additional packages using the packages tab.</li>
<li>Install additional packages using R code.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-r-what-is-rstudio">What is R? What is RStudio?<a class="anchor" aria-label="anchor" href="#what-is-r-what-is-rstudio"></a>
</h2>
<hr class="half-width">
<p>The term ‚Äú<code>R</code>‚Äù is used to refer to both the programming
language and the software that interprets the scripts written in R.</p>
<p><a href="https://posit.co/" class="external-link">RStudio</a> is currently a very popular
way to not only write your R scripts but also to interact with the R
software. RStudio is the most popular IDE (Integrated Development
Environmemt) for R. An IDE is a piece of software that provides tools to
make programming easier.</p>
<p>To make it easier to interact with R, we will use RStudio. To
function correctly, RStudio needs R and therefore both need to be
installed on your computer.</p>
</section><section><h2 class="section-heading" id="why-learn-r">Why learn R? ü§∂<a class="anchor" aria-label="anchor" href="#why-learn-r"></a>
</h2>
<hr class="half-width">
<p>There are numerous reasons to learn and use R. In the following we
will point out a few of them.</p>
<div class="section level3">
<h3 id="r-does-not-involve-lots-of-pointing-and-clicking">R does not involve lots of pointing and clicking<a class="anchor" aria-label="anchor" href="#r-does-not-involve-lots-of-pointing-and-clicking"></a>
</h3>
<p>The learning curve might be steeper than with other software, but
with R, the results of your analysis do not rely on remembering a
succession of pointing and clicking, but instead on a series of written
commands, and that‚Äôs a good thing! So, if you want to redo your analysis
because you collected more data, you don‚Äôt have to remember which button
you clicked in which order to obtain your results; you just have to run
your script again.</p>
<p>Working with scripts makes the steps you used in your analysis clear,
and the code you write can be inspected by someone else who can give you
feedback and spot mistakes.</p>
<p>Working with scripts forces you to have a deeper understanding of
what you are doing, and facilitates your learning and comprehension of
the methods you use.</p>
</div>
<div class="section level3">
<h3 id="r-code-is-great-for-reproducibility">R code is great for reproducibility<a class="anchor" aria-label="anchor" href="#r-code-is-great-for-reproducibility"></a>
</h3>
<p>Reproducibility is when someone else (including your future self) can
obtain the same results from the same dataset when using the same
analysis.</p>
<p>R integrates with other tools to generate manuscripts from your code.
If you collect more data, or fix a mistake in your dataset, the figures
and the statistical tests in your manuscript are updated
automatically.</p>
<p>An increasing number of journals and funding agencies expect analyses
to be reproducible, so knowing R will give you an edge with these
requirements.</p>
</div>
<div class="section level3">
<h3 id="r-is-interdisciplinary-and-extensible">R is interdisciplinary and extensible<a class="anchor" aria-label="anchor" href="#r-is-interdisciplinary-and-extensible"></a>
</h3>
<p>With 18,000+ packages that can be installed to extend its
capabilities, R provides a framework that allows you to combine
statistical approaches from many scientific disciplines to best suit the
analytical framework you need to analyze your data. For instance, R has
packages for image analysis, GIS, time series, population genetics, and
a lot more.</p>
</div>
<div class="section level3">
<h3 id="r-works-on-data-of-all-shapes-and-sizes">R works on data of all shapes and sizes<a class="anchor" aria-label="anchor" href="#r-works-on-data-of-all-shapes-and-sizes"></a>
</h3>
<p>The skills you learn with R scale easily with the size of your
dataset. Whether your dataset has hundreds or millions of lines, it
won‚Äôt make much difference to you.</p>
<p>R is designed for data analysis. It comes with special data
structures and data types that make handling of missing data and
statistical factors convenient.</p>
<p>R can connect to spreadsheets, databases, and many other data
formats, on your computer or on the web. üéÖ</p>
</div>
<div class="section level3">
<h3 id="r-produces-high-quality-graphics">R produces high-quality graphics<a class="anchor" aria-label="anchor" href="#r-produces-high-quality-graphics"></a>
</h3>
<p>The plotting functionalities in R are endless, and allow you to
adjust any aspect of your graph to convey most effectively the message
from your data.</p>
</div>
<div class="section level3">
<h3 id="r-has-a-large-and-welcoming-community">R has a large and welcoming community<a class="anchor" aria-label="anchor" href="#r-has-a-large-and-welcoming-community"></a>
</h3>
<p>Thousands of people use R daily. Many of them are willing to help you
through mailing lists and websites such as <a href="https://stackoverflow.com/" class="external-link">Stack Overflow</a>, or on the <a href="https://community.rstudio.com/" class="external-link">Posit Community</a>. Questions
which are backed up with <a href="https://www.tidyverse.org/help/" class="external-link">short, reproducible code
snippets</a> are more likely to attract knowledgeable responses.</p>
</div>
<div class="section level3">
<h3 id="not-only-is-r-free-but-it-is-also-open-source-and-cross-platform">Not only is R free, but it is also open-source and
cross-platform<a class="anchor" aria-label="anchor" href="#not-only-is-r-free-but-it-is-also-open-source-and-cross-platform"></a>
</h3>
<p>Anyone can inspect the source code to see how R works. Because of
this transparency, there is less chance for mistakes, and if you (or
someone else) find some, you can report and fix bugs.</p>
<p>Because R is open source and is supported by a large community of
developers and users, there is a very large selection of third-party
add-on packages which are freely available to extend R‚Äôs native
capabilities.</p>
<figure><img src="../fig/r-manual-christmas.png" alt="RStudio extends what R can do, and makes it easier to write R code and interact with R." width="100%" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><figure><img src="../fig/r-automatic-christmas.jpg" alt="automatic car gear shift representing the ease of RStudio" width="100%" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>RStudio extends what R can do, and makes it easier to write R code
and interact with R.
<a href="https://unsplash.com/photos/D19rXKDUPYM" class="external-link">Left photo credit</a>;
<a href="https://unsplash.com/photos/Wec3M4dY_LE" class="external-link">Right photo
credit</a>.</p>
</div>
</section><section><h2 class="section-heading" id="a-tour-of-rstudio">A tour of RStudio<a class="anchor" aria-label="anchor" href="#a-tour-of-rstudio"></a>
</h2>
<hr class="half-width">
<p>Let‚Äôs start by learning about <a href="https://posit.co/" class="external-link">RStudio</a>, which is an Integrated Development
Environment (IDE) for working with R.</p>
<p>The RStudio IDE open-source product is free under the <a href="https://www.gnu.org/licenses/agpl-3.0.en.html" class="external-link">Affero General
Public License (AGPL) v3</a>. The RStudio IDE is also available with a
commercial license and priority email support from Posit Software,
Inc.</p>
<p>We will use the RStudio IDE to write code, navigate the files on our
computer, inspect the variables we create, and visualize the plots we
generate. RStudio can also be used for other things (e.g., version
control, developing packages, writing Shiny apps) that we will not cover
during the workshop.</p>
<p>One of the advantages of using RStudio is that all the information
you need to write code is available in a single window. Additionally,
RStudio provides many shortcuts, autocompletion, and highlighting for
the major file types you use while developing in R. RStudio makes typing
easier and less error-prone.</p>
<div class="section level3">
<h3 id="the-rstudio-interface">The RStudio Interface<a class="anchor" aria-label="anchor" href="#the-rstudio-interface"></a>
</h3>
<p>Let‚Äôs take a quick tour of RStudio.</p>
<figure><img src="../fig/R_00_Rstudio_01.png" alt="A picture of RStudios interface" class="figure mx-auto d-block"><div class="figcaption">RStudio interface</div>
</figure><p>RStudio is divided into four ‚Äúpanes‚Äù. The placement of these panes
and their content can be customized (see menu, Tools -&gt; Global
Options -&gt; Pane Layout).</p>
<p>The Default Layout is: - Top Left - <strong>Source</strong>: your
scripts and documents - Bottom Left - <strong>Console</strong>: what R
would look and be like without RStudio - Top Right -
<strong>Enviornment/History</strong>: look here to see what you have
done - Bottom Right - <strong>Files</strong> and more: see the contents
of the project/working directory here, like your Script.R file</p>
</div>
<div class="section level3">
<h3 id="getting-set-up">Getting set up<a class="anchor" aria-label="anchor" href="#getting-set-up"></a>
</h3>
<p>It is good practice to keep a set of related data, analyses, and text
self-contained in a single folder called the <strong>working
directory</strong>. All of the scripts within this folder can then use
<em>relative paths</em> to files. Relative paths indicate where inside
the project a file is located (as opposed to absolute paths, which point
to where a file is on a specific computer). Working this way makes it a
lot easier to move your project around on your computer and share it
with others without having to directly modify file paths in the
individual scripts.</p>
<p>RStudio provides a helpful set of tools to do this through its
‚ÄúProjects‚Äù interface, which not only creates a working directory for you
but also remembers its location (allowing you to quickly navigate to
it). The interface also (optionally) preserves custom settings and open
files to make it easier to resume work after a break.</p>
<p>An easy way to work like this is to create projects in RStudio.</p>
</div>
<div class="section level3">
<h3 id="create-a-new-project-and-a-new-script-file">Create a new project and a new script file<a class="anchor" aria-label="anchor" href="#create-a-new-project-and-a-new-script-file"></a>
</h3>
<ul>
<li>Under the <code>File</code> menu, click on <code>New project</code>,
choose <code>New directory</code>, then <code>New project</code>
</li>
<li>Enter a name for this new folder (or ‚Äúdirectory‚Äù) and choose a
convenient location for it. This will be your <strong>working
directory</strong> for working on this project (e.g.,
<code>~/data-carpentry</code>)</li>
<li>Click on <code>Create project</code>
</li>
<li>Create a new file where we will type our scripts. Go to File &gt;
New File &gt; R script. Click the save icon on your toolbar and save
your script as ‚Äú<code>script.R</code>‚Äù.</li>
</ul>
<p>The simplest way to open an RStudio project once it has been created
is to navigate through your filesystem to where the project was saved
and double click on the <code>.Rproj</code> (blue cube) file. This will
open RStudio and start your R session in the <strong>same</strong>
directory as the <code>.Rproj</code> file. All your data, plots and
scripts will now be relative to the project directory. RStudio projects
have the added benefit of allowing you to open multiple projects at the
same time each open to its own project directory. This allows you to
keep multiple projects open without them interfering with each
other.</p>
</div>
<div class="section level3">
<h3 id="organizing-your-working-directory">Organizing your working directory<a class="anchor" aria-label="anchor" href="#organizing-your-working-directory"></a>
</h3>
<p>Using a consistent folder structure across your projects will help
keep things organized and make it easy to find/file things in the
future. This can be especially helpful when you have multiple projects.
In general, you might create directories (folders) for
<strong>scripts</strong>, <strong>data</strong>, and
<strong>documents</strong>. Here are some examples of suggested
directories:</p>
<ul>
<li>
<strong><code>data/</code></strong> Use this folder to store your
raw data and intermediate datasets. For the sake of transparency and <a href="https://en.wikipedia.org/wiki/Provenance" class="external-link">provenance</a>, you
should <em>always</em> keep a copy of your raw data accessible and do as
much of your data cleanup and preprocessing programmatically (i.e., with
scripts, rather than manually) as possible.</li>
<li>
<strong><code>data_output/</code></strong> When you need to modify
your raw data, it might be useful to store the modified versions of the
datasets in a different folder.</li>
<li>
<strong><code>documents/</code></strong> Used for outlines, drafts,
and other text.</li>
<li>
<strong><code>fig_output/</code></strong> This folder can store the
graphics that are generated by your scripts.</li>
<li>
<strong><code>scripts/</code></strong> A place to keep your R
scripts for different analyses or plotting.</li>
</ul>
<p>You may want additional directories or subdirectories depending on
your project needs, but these should form the backbone of your working
directory.</p>
<figure><img src="../fig/rstudio_project_files.jpeg" alt="A picture showing the layout of a good working directory as described above" class="figure mx-auto d-block"><div class="figcaption">Example of a working directory structure</div>
</figure>
</div>
<div class="section level3">
<h3 id="the-working-directory">The working directory<a class="anchor" aria-label="anchor" href="#the-working-directory"></a>
</h3>
<p>The working directory is an important concept to understand. It is
the place where R will look for and save files. When you write code for
your project, your scripts should refer to files in relation to the root
of your working directory and only to files within this structure.</p>
<p>Using RStudio projects makes this easy and ensures that your working
directory is set up properly. If you need to check it, you can use
<code>getwd()</code>. If for some reason your working directory is not
the same as the location of your RStudio project, it is likely that you
opened an R script or RMarkdown file <strong>not</strong> your
<code>.Rproj</code> file. You should close out of RStudio and open the
<code>.Rproj</code> file by double clicking on the blue cube!</p>
</div>
<div class="section level3">
<h3 id="downloading-the-data-and-getting-set-up">Downloading the data and getting set up<a class="anchor" aria-label="anchor" href="#downloading-the-data-and-getting-set-up"></a>
</h3>
<p>For this lesson we will use the following folders in our working
directory: <strong><code>data/</code></strong>,
<strong><code>data_output/</code></strong> and
<strong><code>fig_output/</code></strong>. Let‚Äôs write them all in
lowercase to be consistent. We can create them using the RStudio
interface by clicking on the ‚ÄúNew Folder‚Äù button in the file pane
(bottom right), or directly from R by typing at console:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dir.create</span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span></span>
<span><span class="fu">dir.create</span><span class="op">(</span><span class="st">"data_output"</span><span class="op">)</span></span>
<span><span class="fu">dir.create</span><span class="op">(</span><span class="st">"fig_output"</span><span class="op">)</span></span></code></pre>
</div>
<p>Begin by downloading the dataset called <a href="../data/xmas_movies.csv">‚Äú<code>xmas_movies.csv</code>‚Äù</a>. Place
this downloaded file in the <code>data/</code> you just created. You can
do this directly from R by copying and pasting this in your terminal
(your instructor can place this chunk of code in the Etherpad):</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">download.file</span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/KUBDatalab/R-intro-christmas/main/episodes/data/xmas_movies.csv"</span>, <span class="st">"data/xmas_movies.csv"</span>, mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="interacting-with-r">Interacting with R<a class="anchor" aria-label="anchor" href="#interacting-with-r"></a>
</h2>
<hr class="half-width">
<p>The basis of programming is that we write down instructions for the
computer to follow, and then we tell the computer to follow those
instructions. We write, or <em>code</em>, instructions in R because it
is a common language that both the computer and we can understand. We
call the instructions <em>commands</em> and we tell the computer to
follow the instructions by <em>executing</em> (also called
<em>running</em>) those commands.</p>
<p>There are two main ways of interacting with R: by using the console
or by using script files (plain text files that contain your code). The
console pane (in RStudio, the bottom left panel) is the place where
commands written in the R language can be typed and executed immediately
by the computer. It is also where the results will be shown for commands
that have been executed. You can type commands directly into the console
and press <kbd>Enter</kbd> to execute those commands, but they will be
forgotten when you close the session.</p>
<p>Because we want our code and workflow to be reproducible, it is
better to type the commands we want in the script editor and save the
script. This way, there is a complete record of what we did, and anyone
(including our future selves!) can easily replicate the results on their
computer.</p>
<p>RStudio allows you to execute commands directly from the script
editor by using the <kbd>Ctrl</kbd> + <kbd>Enter</kbd> shortcut (on Mac,
<kbd>Cmd</kbd> + <kbd>Return</kbd> will work). The command on the
current line in the script (indicated by the cursor) or all of the
commands in selected text will be sent to the console and executed when
you press <kbd>Ctrl</kbd> + <kbd>Enter</kbd>. If there is information in
the console you do not need anymore, you can clear it with
<kbd>Ctrl</kbd> + <kbd>L</kbd>. You can find other keyboard shortcuts in
this <a href="https://posit.co/wp-content/uploads/2022/10/rstudio-ide-1.pdf" class="external-link">RStudio
cheatsheet about the RStudio IDE</a>.</p>
<p>At some point in your analysis, you may want to check the content of
a variable or the structure of an object without necessarily keeping a
record of it in your script. You can type these commands and execute
them directly in the console. RStudio provides the <kbd>Ctrl</kbd> +
<kbd>1</kbd> and <kbd>Ctrl</kbd> + <kbd>2</kbd> shortcuts allow you to
jump between the script and the console panes.</p>
<p>If R is ready to accept commands, the R console shows a
<code>&gt;</code> prompt. If R receives a command (by typing,
copy-pasting, or sent from the script editor using <kbd>Ctrl</kbd> +
<kbd>Enter</kbd>), R will try to execute it and, when ready, will show
the results and come back with a new <code>&gt;</code> prompt to wait
for new commands.</p>
<p>If R is still waiting for you to enter more text, the console will
show a <code>+</code> prompt. It means that you haven‚Äôt finished
entering a complete command. This is likely because you have not
‚Äòclosed‚Äô a parenthesis or quotation, i.e.¬†you don‚Äôt have the same number
of left-parentheses as right-parentheses or the same number of opening
and closing quotation marks. When this happens, and you thought you
finished typing your command, click inside the console window and press
<kbd>Esc</kbd>; this will cancel the incomplete command and return you
to the <code>&gt;</code> prompt. You can then proofread the command(s)
you entered and correct the error.</p>
</section><section><h2 class="section-heading" id="installing-additional-packages-using-the-packages-tab">Installing additional packages using the packages tab<a class="anchor" aria-label="anchor" href="#installing-additional-packages-using-the-packages-tab"></a>
</h2>
<hr class="half-width">
<p>In addition to the core R installation, there are in excess of 18,000
additional packages which can be used to extend the functionality of R.
Many of these have been written by R users and have been made available
in central repositories, like the one hosted at CRAN, for anyone to
download and install into their own R environment. You should have
already installed the packages ‚Äòggplot2‚Äô and ‚Äôdplyr. If you have not,
please do so now using these instructions.</p>
<div class="section level3">
<h3 id="installing-additional-packages-using-rstudio">Installing additional packages using RStudio<a class="anchor" aria-label="anchor" href="#installing-additional-packages-using-rstudio"></a>
</h3>
<p>You can see if you have a package installed by looking in the
<code>packages</code> tab (on the lower-right by default). You can also
type the command <code>installed.packages()</code> into the console and
examine the output.</p>
<figure><img src="../fig/packages_pane.png" alt="Packages pane" class="figure mx-auto d-block"><div class="figcaption">Packages pane</div>
</figure><p>Additional packages can be installed from the ‚Äòpackages‚Äô tab. On the
packages tab, click the ‚ÄòInstall‚Äô icon and start typing the name of the
package you want in the text box. As you type, packages matching your
starting characters will be displayed in a drop-down list so that you
can select them.</p>
<figure><img src="../fig/R_00_Rstudio_03.png" alt="Install Packages Window" class="figure mx-auto d-block"><div class="figcaption">Install Packages Window</div>
</figure><p>At the bottom of the Install Packages window is a check box to
‚ÄòInstall‚Äô dependencies. This is ticked by default, which is usually what
you want. Packages can (and do) make use of functionality built into
other packages, so for the functionality contained in the package you
are installing to work properly, there may be other packages which have
to be installed with them. The ‚ÄòInstall dependencies‚Äô option makes sure
that this happens.</p>
<p>Because the install process accesses the CRAN repository, you will
need an Internet connection to install packages.</p>
<p>It is also possible to install packages from other repositories, as
well as Github or the local file system, but we won‚Äôt be looking at
these options in this lesson.</p>
</div>
<div class="section level3">
<h3 id="installing-additional-packages-using-r-code">Installing additional packages using R code<a class="anchor" aria-label="anchor" href="#installing-additional-packages-using-r-code"></a>
</h3>
<p>If you were watching the console window when you started the install
of ‚Äòtidyverse‚Äô, you may have noticed that the line</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span></code></pre>
</div>
<p>was written to the console before the start of the installation
messages.</p>
<p>You could also have installed the
<strong><code>tidyverse</code></strong> packages by running this command
directly at the R terminal.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Use both the Console and the Packages tab to confirm that you have
the tidyverse installed.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Scroll through packages tab down to ‚Äòtidyverse‚Äô. You can also type a
few characters into the searchbox. The ‚Äòtidyverse‚Äô package is really a
package of packages, including ‚Äòggplot2‚Äô and ‚Äòdplyr‚Äô, both of which
require other packages to run correctly. All of these packages will be
installed automatically. Depending on what packages have previously been
installed in your R environment, the install of ‚Äòtidyverse‚Äô could be
very quick or could take several minutes. As the install proceeds,
messages relating to its progress will be written to the console. You
will be able to see all of the packages which are actually being
installed.</p>
<p>In the console. If you write tidy it should put up if it is
installed. Look for tidyverse::</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use RStudio to write and run R programs.</li>
<li>Use <code>install.packages()</code> to install packages
(libraries).</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-01-intro-to-r"><p>Content from <a href="01-intro-to-r.html">Introduction to R</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/01-intro-to-r.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What data types are available in R?</li>
<li>What is an object?</li>
<li>How can values be initially assigned to variables of different data
types?</li>
<li>What arithmetic and logical operators can be used?</li>
<li>How can subsets be extracted from vectors?</li>
<li>How does R treat missing values?</li>
<li>How can we deal with missing values in R?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Define the following terms as they relate to R: object, assign,
call, function, arguments, options.</li>
<li>Assign values to objects in R.</li>
<li>Learn how to name objects.</li>
<li>Use comments to inform script.</li>
<li>Solve simple arithmetic operations in R.</li>
<li>Call functions and use arguments to change their default
options.</li>
<li>Inspect the content of vectors and manipulate their content.</li>
<li>Subset and extract values from vectors.</li>
<li>Analyze vectors with missing data.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="creating-objects-in-r">Creating objects in R<a class="anchor" aria-label="anchor" href="#creating-objects-in-r"></a>
</h2>
<hr class="half-width">
<p>You can get output from R simply by typing math in the console:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">12</span> <span class="op">/</span> <span class="fl">7</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1.714286</code></pre>
</div>
<p>However, to do useful and interesting things, we need to assign
<em>values</em> to <em>objects</em>. To create an object, we need to
give it a name followed by the assignment operator <code>&lt;-</code>,
and the value we want to give it:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></code></pre>
</div>
<p><code>&lt;-</code> is the assignment operator. It assigns values on
the right to objects on the left. So, after executing
<code>x &lt;- 3</code>, the value of <code>x</code> is <code>3</code>.
The arrow can be read as 3 <strong>goes into</strong>
<code>x</code>.</p>
<p>In RStudio, typing <kbd>Alt</kbd> + <kbd>-</kbd> (push <kbd>Alt</kbd>
at the same time as the <kbd>-</kbd> key) will write <code>&lt;-</code>
in a single keystroke in a PC, while typing <kbd>Option</kbd> +
<kbd>-</kbd> (push <kbd>Option</kbd> at the same time as the
<kbd>-</kbd> key) does the same in a Mac.</p>
<div id="historical" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="historical" class="callout-inner">
<h3 class="callout-title">Historical</h3>
<div class="callout-content">
<p>For historical reasons, you can also use <code>=</code> for
assignments, but not in every context. Because of the <a href="https://web.archive.org/web/20210121015950/https://blog.revolutionanalytics.com/2008/12/use-equals-or-arrow-for-assignment.html" class="external-link">slight</a>
<a href="https://web.archive.org/web/20210810114254/https://stackoverflow.com/questions/1741820/what-are-the-differences-between-and-assignment-operators-in-r" class="external-link">differences</a>
in syntax, it is good practice to always use <code>&lt;-</code> for
assignments. More generally we prefer the <code>&lt;-</code> syntax over
<code>=</code> because it makes it clear what direction the assignment
is operating (left assignment), and it increases the read-ability of the
code.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="naming-objects">Naming objects<a class="anchor" aria-label="anchor" href="#naming-objects"></a>
</h3>
<p>Objects can be given any name such as <code>x</code>,
<code>current_temperature</code>, or <code>subject_id</code>. You want
your object names to be explicit and not too long.</p>
<p>They cannot start with a number (<code>2x</code> is not valid, but
<code>x2</code> is), and R is case sensitive (e.g., <code>age</code> is
different from <code>Age</code>). There are some names that cannot be
used because they are the names of fundamental objects in R (e.g.,
<code>if</code>, <code>else</code>, <code>for</code>, see <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Reserved.html" class="external-link">here
for a complete list</a>). In general, even if it‚Äôs allowed, it‚Äôs best to
not use them (e.g., <code>c</code>, <code>T</code>, <code>mean</code>,
<code>data</code>, <code>df</code>, <code>weights</code>). If in doubt,
check the help to see if the name is already in use.</p>
<p>It is best to avoid dots (<code>.</code>) within an object name as in
<code>my.dataset</code>. There are many objects in R with dots in their
names for historical reasons, but because dots have a special meaning in
R (for methods) and other programming languages, it‚Äôs best to avoid
them.</p>
<p>It is also recommended to use nouns for object names, and verbs for
function names. It‚Äôs important to be consistent in the styling of your
code (where you put spaces, how you name objects, etc.). Using a
consistent coding style makes your code clearer to read for your future
self and your collaborators.</p>
<p>In R, three popular style guides are <a href="https://google.github.io/styleguide/Rguide.xml" class="external-link">Google‚Äôs</a>, <a href="https://jef.works/R-style-guide/" class="external-link">Jean Fan‚Äôs</a> and the <a href="https://style.tidyverse.org/" class="external-link">tidyverse‚Äôs</a>. The tidyverse‚Äôs is
very comprehensive and may seem overwhelming at first. You can install
the <a href="https://github.com/jimhester/lintr" class="external-link"><strong><code>lintr</code></strong></a>
package to automatically check for issues in the styling of your
code.</p>
<div id="objects-vs.-variables" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="objects-vs.-variables" class="callout-inner">
<h3 class="callout-title">Objects vs.¬†variables</h3>
<div class="callout-content">
<p>What are known as <code>objects</code> in <code>R</code> are known as
<code>variables</code> in many other programming languages. Depending on
the context, <code>object</code> and <code>variable</code> can have
drastically different meanings. However, in this lesson, the two words
are used synonymously. For more information see: <a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects" class="external-link">https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects</a></p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="printing-objects">Printing objects<a class="anchor" aria-label="anchor" href="#printing-objects"></a>
</h3>
<p>When assigning a value to an object, R does not print anything. You
can force R to print the value by using parentheses or by typing the
object name:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coal_in_pounds</span> <span class="op">&lt;-</span> <span class="fl">1.0</span>    <span class="co"># doesn't print anything</span></span>
<span><span class="va">coal_in_pounds</span>         <span class="co"># but typing the name of the object print</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">coal_in_pounds</span> <span class="op">&lt;-</span> <span class="fl">1.0</span><span class="op">)</span>  <span class="co"># putting parenthesis around the call also print</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="doing-math-on-objects">Doing math on objects<a class="anchor" aria-label="anchor" href="#doing-math-on-objects"></a>
</h3>
<p>Now that R has <code>coal_in_pounds</code> in memory, we can do
arithmetic with it. For instance, we may want to convert this coal in
pounds into coal in kilograms (coal in kilgrams is coal in pounds times
0.45):</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">0.45</span> <span class="op">*</span> <span class="va">coal_in_pounds</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.45</code></pre>
</div>
<p>We can also change an object‚Äôs value by assigning it a new one:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coal_in_pounds</span> <span class="op">&lt;-</span> <span class="fl">2.00</span></span>
<span><span class="fl">0.45</span> <span class="op">*</span> <span class="va">coal_in_pounds</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.9</code></pre>
</div>
<p>Assigning a value to one object does not automatically change the
values of other objects. For example, let‚Äôs store the the amount of coal
in kilograms in a new object, <code>coal_in_kilograms</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coal_in_kilograms</span> <span class="op">&lt;-</span> <span class="fl">0.45</span> <span class="op">*</span> <span class="va">coal_in_pounds</span></span></code></pre>
</div>
<p>and then change <code>coal_in_pounds</code> to 50.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coal_in_pounds</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></code></pre>
</div>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>What do you think is the current content of the object
<code>coal_in_pounds</code>? .0.9 or 22.5?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>The value of <code>coal_in_kilograms</code> is still 0.9 because you
have not re-run the line
<code>coal_in_kilograms &lt;- 0.45 * coal_in_pounds</code>, since
changing the value of <code>coal_in_pounds</code>.</p>
</div>
</div>
</div>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Create two variables <code>rows_of_reindeer</code> and
<code>columns_of_reindeer</code> and assign them values. It should be
noted that, because <code>row</code> is a built-in R function, R Studio
might add ‚Äú()‚Äù after you type <code>row</code> and if you leave the
parentheses you will get unexpected results. This is why you might see
other programmers abbreviate common words. Create a third variable
<code>number_of_reindeer</code> and give it a value based on the current
values of <code>rows_of_reindeer</code> and
<code>columns_of_reindeer</code>. Show that changing the values of
either <code>number_of_reindeer</code> and <code>rows_of_reindeer</code>
does not affect the value of <code>number_of_reindeer</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rows_of_reindeer</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span><span class="va">columns_of_reindeer</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">number_of_reindeer</span> <span class="op">&lt;-</span> <span class="va">rows_of_reindeer</span> <span class="op">*</span> <span class="va">columns_of_reindeer</span></span>
<span></span>
<span><span class="va">number_of_reindeer</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change the values of rows_of_reindeer and columns_of_reindeer</span></span>
<span><span class="va">rows_of_reindeer</span> <span class="op">&lt;-</span> <span class="fl">7</span></span>
<span><span class="va">columns_of_reindeer</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span></span>
<span><span class="co"># the value of r_area isn't changed</span></span>
<span><span class="va">number_of_reindeer</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="comments">Comments<a class="anchor" aria-label="anchor" href="#comments"></a>
</h2>
<hr class="half-width">
<p>All programming languages allow the programmer to include comments in
their code. To do this in R we use the <code>#</code> character.
Anything to the right of the <code>#</code> sign and up to the end of
the line is treated as a comment and is ignored by R. You can start
lines with comments or include them after any code on the line.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># pounds converted to kilograms</span></span>
<span><span class="va">coal_in_pounds</span> <span class="op">&lt;-</span> <span class="fl">1.0</span>      </span>
<span><span class="va">coal_in_kilograms</span> <span class="op">&lt;-</span> <span class="va">coal_in_pounds</span> <span class="op">*</span> <span class="fl">0.45</span>  <span class="co"># convert to kilograms</span></span>
<span><span class="va">coal_in_kilograms</span>        <span class="co"># print coal in kilograms</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.45</code></pre>
</div>
<p>RStudio makes it easy to comment or uncomment a paragraph: after
selecting the lines you want to comment, press at the same time on your
keyboard <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>. If you only
want to comment out one line, you can put the cursor at any location of
that line (i.e.¬†no need to select the whole line), then press
<kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>.</p>
</section><section><h2 class="section-heading" id="functions-and-their-arguments">Functions and their arguments<a class="anchor" aria-label="anchor" href="#functions-and-their-arguments"></a>
</h2>
<hr class="half-width">
<p>Functions are ‚Äúcanned scripts‚Äù that automate more complicated sets of
commands including operations assignments, etc. Many functions are
predefined, or can be made available by importing R <em>packages</em>
(more on that later). A function usually gets one or more inputs called
<em>arguments</em>. Functions often (but not always) return a
<em>value</em>. A typical example would be the function
<code>sqrt()</code>. The input (the argument) must be a number, and the
return value (in fact, the output) is the square root of that number.
Executing a function (‚Äòrunning it‚Äô) is called <em>calling</em> the
function. An example of a function call is:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">sqrt</span><span class="op">(</span><span class="va">number_of_reindeer</span><span class="op">)</span></span></code></pre>
</div>
<p>Here, the value of <code>a</code> is given to the <code>sqrt()</code>
function, the <code>sqrt()</code> function calculates the square root,
and returns the value which is then assigned to the object
<code>b</code>. This function is very simple, because it takes just one
argument.</p>
<p>The return ‚Äòvalue‚Äô of a function need not be numerical (like that of
<code>sqrt()</code>), and it also does not need to be a single item: it
can be a set of things, or even a dataset. We‚Äôll see that when we read
data files into R.</p>
<p>Arguments can be anything, not only numbers or filenames, but also
other objects. Exactly what each argument means differs per function,
and must be looked up in the documentation (see below). Some functions
take arguments which may either be specified by the user, or, if left
out, take on a <em>default</em> value: these are called
<em>options</em>. Options are typically used to alter the way the
function operates, such as whether it ignores ‚Äòbad values‚Äô, or what
symbol to use in a plot. However, if you want something specific, you
can specify a value of your choice which will be used instead of the
default.</p>
<p>Let‚Äôs try a function that can take multiple arguments:
<code>round()</code>.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">round</span><span class="op">(</span><span class="fl">3.14159</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3</code></pre>
</div>
<p>Here, we‚Äôve called <code>round()</code> with just one argument,
<code>3.14159</code>, and it has returned the value <code>3</code>.
That‚Äôs because the default is to round to the nearest whole number. If
we want more digits we can see how to do that by getting information
about the <code>round</code> function. We can use
<code>args(round)</code> or look at the help for this function using
<code>?round</code>.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">args</span><span class="op">(</span><span class="va">round</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="kw">function</span> <span class="op">(</span><span class="va">x</span>, <span class="va">digits</span> <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="cn">NULL</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">round</span></span></code></pre>
</div>
<p>We see that if we want a different number of digits, we can type
<code>digits=2</code> or however many we want.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">round</span><span class="op">(</span><span class="fl">3.14159</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3.14</code></pre>
</div>
<p>If you provide the arguments in the exact same order as they are
defined you don‚Äôt have to name them:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">round</span><span class="op">(</span><span class="fl">3.14159</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3.14</code></pre>
</div>
<p>And if you do name the arguments, you can switch their order:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">round</span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span>, x <span class="op">=</span> <span class="fl">3.14159</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3.14</code></pre>
</div>
<p>It‚Äôs good practice to put the non-optional arguments (like the number
you‚Äôre rounding) first in your function call, and to specify the names
of all optional arguments. If you don‚Äôt, someone reading your code might
have to look up the definition of a function with unfamiliar arguments
to understand what you‚Äôre doing.</p>
<div id="exercise-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Type in <code>?round</code> at the console and then look at the
output in the Help pane. What other functions exist that are similar to
<code>round</code>? How do you use the <code>digits</code> parameter in
the round function?</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="vectors-and-data-types">Vectors and data types<a class="anchor" aria-label="anchor" href="#vectors-and-data-types"></a>
</h2>
<hr class="half-width">
<p>A vector is the most common and basic data type in R, and is pretty
much the workhorse of R. A vector is composed by a series of values. We
can assign a series of values to a vector using the <code>c()</code>
function. For example we can create a vector containing the score of
movies on imdb and assign it to an object
<code>xmas_movies_rating</code>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_rating</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">7.6</span>, <span class="fl">7.7</span>, <span class="fl">6.4</span>, <span class="fl">8.2</span><span class="op">)</span></span>
<span><span class="va">imdb_rating</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 6.4 8.2</code></pre>
</div>
<p>The vector <code>imdb_rating</code> contains numbers, but a vector
can also contain characters. For example, we can have a vector of movie
titles corresponding to the scores (<code>title</code>):</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Love Actually"</span>, <span class="st">"Home Alone"</span>, <span class="st">"The Grinch"</span>, <span class="st">"Die Hard"</span><span class="op">)</span></span>
<span><span class="va">title</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Love Actually" "Home Alone"    "The Grinch"    "Die Hard"     </code></pre>
</div>
<p>The quotes around ‚ÄúDie Hard‚Äù, etc. are essential. Without the quotes
R will assume there are objects called <code>Die Hard</code> etc. As
these objects don‚Äôt exist in R‚Äôs memory, there will be an error
message.</p>
<p>An important feature of a vector, is that all of the elements are the
same type of data.</p>
<div id="vectors-and-datatypes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="vectors-and-datatypes" class="callout-inner">
<h3 class="callout-title">Vectors and datatypes</h3>
<div class="callout-content">
<p>An <strong>atomic vector</strong> is the simplest R <strong>data
type</strong> and is a linear vector of a single type. Above, we saw 2
of the 6 main <strong>atomic vector</strong> types that R uses:
<code>"character"</code> and <code>"numeric"</code> (or
<code>"double"</code>). These are the basic building blocks that all R
objects are built from. The other 4 <strong>atomic vector</strong> types
are:</p>
<ul>
<li>
<code>"logical"</code> for <code>TRUE</code> and <code>FALSE</code>
(the boolean data type)</li>
<li>
<code>"integer"</code> for integer numbers (e.g., <code>2L</code>,
the <code>L</code> indicates to R that it‚Äôs an integer)</li>
<li>
<code>"complex"</code> to represent complex numbers with real and
imaginary parts (e.g., <code>1 + 4i</code>) and that‚Äôs all we‚Äôre going
to say about them</li>
<li>
<code>"raw"</code> for bitstreams that we won‚Äôt discuss further</li>
</ul>
<p>Vectors are one of the many <strong>data structures</strong> that R
uses. Other important ones are lists (<code>list</code>), matrices
(<code>matrix</code>), data frames (<code>data.frame</code>), factors
(<code>factor</code>) and arrays (<code>array</code>).</p>
</div>
</div>
</div>
<p>The function <code>class()</code> indicates the class (the type of
element) of an object:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">class</span><span class="op">(</span><span class="va">imdb_rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "numeric"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">class</span><span class="op">(</span><span class="va">title</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "character"</code></pre>
</div>
<p>The function <code>str()</code> provides an overview of the structure
of an object and its elements. It is a useful function when working with
large and complex objects:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="va">imdb_rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> num [1:4] 7.6 7.7 6.4 8.2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="va">title</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> chr [1:4] "Love Actually" "Home Alone" "The Grinch" "Die Hard"</code></pre>
</div>
<p>As you can see there are many functions that allow you to inspect the
content of a vector. Another example is <code>length()</code> that tells
you how many elements are in a particular vector:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">length</span><span class="op">(</span><span class="va">imdb_rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 4</code></pre>
</div>
<p>You can use the <code>c()</code> function to add other elements to
your vector:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">genre_1</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Comedy"</span>, <span class="st">"Animation"</span><span class="op">)</span></span>
<span><span class="va">genre_1</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Comedy"    "Animation"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">genre_1</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">genre_1</span>, <span class="st">"Action"</span><span class="op">)</span> <span class="co"># add to the end of the vector</span></span>
<span><span class="va">genre_1</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Comedy"</span>, <span class="va">genre_1</span><span class="op">)</span> <span class="co"># add to the beginning of the vector</span></span>
<span><span class="va">genre_1</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Comedy"    "Comedy"    "Animation" "Action"   </code></pre>
</div>
<p>First the vector <code>genre_1</code> is created with two values.
Then the value ‚ÄúAction‚Äù is added to the end of the vector, and the
result is saved back into <code>genre_1</code>. After that the value
‚ÄúComedy‚Äù is added to the front of the vector, and again saved back into
<code>genre_1</code></p>
<p>We can do this over and over again to grow a vector, or assemble a
dataset. As we program, this may be useful to add results that we are
collecting or calculating.</p>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>We‚Äôve seen that atomic vectors can be of type character, numeric (or
double), integer, and logical. But what happens if we try to mix these
types in a single vector?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>R implicitly converts them to all be the same type.</p>
</div>
</div>
</div>
</div>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise<em> (continued)</em>
</h3>
<div class="callout-content">
<p>What will happen in each of these examples? (hint: use
<code>class()</code> to check the data type of your objects):</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">num_char</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="va">num_logical</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">char_logical</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">tricky</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="st">"4"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Why do you think it happens?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>Vectors can be of only one data type. R tries to convert (coerce) the
content of this vector to find a ‚Äúcommon denominator‚Äù that doesn‚Äôt lose
any information.</p>
</div>
</div>
</div>
</div>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise<em> (continued)</em>
</h3>
<div class="callout-content">
<p>How many values in <code>combined_logical</code> are
<code>"TRUE"</code> (as a character) in the following example:</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">num_logical</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">char_logical</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">combined_logical</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">num_logical</span>, <span class="va">char_logical</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Only one. There is no memory of past data types, and the coercion
happens the first time the vector is evaluated. Therefore, the
<code>TRUE</code> in <code>num_logical</code> gets converted into a
<code>1</code> before it gets converted into <code>"1"</code> in
<code>combined_logical</code>.</p>
</div>
</div>
</div>
</div>
<div id="exercise-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise<em> (continued)</em>
</h3>
<div class="callout-content">
<p>You‚Äôve probably noticed that objects of different types get converted
into a single, shared type within a vector. In R, we call converting
objects from one class into another class <em>coercion</em>. These
conversions happen according to a hierarchy, whereby some types get
preferentially coerced into other types. Can you draw a diagram that
represents the hierarchy of how these data types are coerced?</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="subsetting-vectors">Subsetting vectors<a class="anchor" aria-label="anchor" href="#subsetting-vectors"></a>
</h2>
<hr class="half-width">
<p>If we want to extract one or several values from a vector, we must
provide one or several indices in square brackets. For instance:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Home Alone"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span><span class="op">[</span><span class="fu">c</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "The Grinch" "Home Alone"</code></pre>
</div>
<p>First R return the second element from the title vector, and after
that R returns the third and second element from the title vector.</p>
<p>R indices start at 1. Programming languages like Fortran, MATLAB,
Julia, and R start counting at 1, because that‚Äôs what human beings
typically do. Languages in the C family (including C++, Java, Perl, and
Python) count from 0 because that‚Äôs simpler for computers to do.</p>
<p>We can also repeat the indices to create an object with more elements
than the original one:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">more_titles</span> <span class="op">&lt;-</span> <span class="va">title</span><span class="op">[</span><span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">more_titles</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Love Actually" "Home Alone"    "The Grinch"    "Home Alone"
[5] "Love Actually" "The Grinch"   </code></pre>
</div>
<p>Here we create an new vector <code>more_titles</code> containing the
elements from title in the order given in the <code>c</code>
function</p>
<div class="section level3">
<h3 id="conditional-subsetting">Conditional subsetting<a class="anchor" aria-label="anchor" href="#conditional-subsetting"></a>
</h3>
<p>Sometimes we only want a subset of a vector, but we do not know the
exact index number. A common way of getting a subset without knowing the
index numbers, is by using a logical vector. <code>TRUE</code> will
select the element with the same index, while <code>FALSE</code> will
not:</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_rating</span><span class="op">[</span><span class="fu">c</span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 6.4 8.2</code></pre>
</div>
<p>Typically, these logical vectors are not typed by hand, but are the
output of other functions or logical tests. For instance, if you wanted
to select only the imdb_scores above 5:</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_rating</span> <span class="op">&gt;</span> <span class="fl">5</span>    <span class="co"># will return logicals with TRUE for the indices that meet the condition</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] TRUE TRUE TRUE TRUE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## so we can use this to select only the values above 5</span></span>
<span><span class="va">imdb_rating</span><span class="op">[</span><span class="va">imdb_rating</span> <span class="op">&gt;</span> <span class="fl">5</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 6.4 8.2</code></pre>
</div>
<p>You can combine multiple tests using <code>&amp;</code> (both
conditions are true (AND)) or <code>|</code> (at least one of the
conditions is true, (OR)):</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_rating</span><span class="op">[</span><span class="va">imdb_rating</span> <span class="op">&lt;</span> <span class="fl">6</span> <span class="op">|</span> <span class="va">imdb_rating</span> <span class="op">&gt;</span> <span class="fl">7</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 8.2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_rating</span><span class="op">[</span><span class="va">imdb_rating</span> <span class="op">&gt;=</span> <span class="fl">6</span> <span class="op">&amp;</span> <span class="va">imdb_rating</span> <span class="op">&lt;=</span> <span class="fl">7</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 6.4</code></pre>
</div>
<div id="callout4" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div class="callout-inner">
<div class="callout-content">
<p>Here, <code>&lt;</code> stands for ‚Äúless than‚Äù, <code>&gt;</code> for
‚Äúgreater than‚Äù, <code>&gt;=</code> for ‚Äúgreater than or equal to‚Äù, and
<code>==</code> for ‚Äúequal to‚Äù. The double equal sign <code>==</code> is
a test for numerical equality between the left and right hand sides, and
should not be confused with the single <code>=</code> sign, which
performs variable assignment (similar to <code>&lt;-</code>).</p>
</div>
</div>
</div>
<p>A common task is to search for certain strings in a vector. One could
use the ‚Äúor‚Äù operator <code>|</code> to test for equality to multiple
values, but this can quickly become tedious.</p>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span><span class="op">[</span><span class="va">title</span> <span class="op">==</span> <span class="st">"Die Hard"</span> <span class="op">|</span> <span class="va">title</span> <span class="op">==</span> <span class="st">"Home Alone"</span><span class="op">]</span> <span class="co"># returns both Die Hard and Home Alone</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Home Alone" "Die Hard"  </code></pre>
</div>
<p>The function <code>%in%</code> allows you to test if any of the
elements of a search vector (on the right hand side) are found in the
target vector (on the left hand side):</p>
<div class="codewrapper sourceCode" id="cb72">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span> <span class="op">%in%</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Die Hard"</span>, <span class="st">"Home Alone"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] FALSE  TRUE FALSE  TRUE</code></pre>
</div>
<p>Note that the output is the same length as the search vector on the
left hand side, because <code>%in%</code> checks whether each element of
the search vector is found somewhere in the target vector. Thus, you can
use <code>%in%</code> to select the elements in the search vector that
appear in your target vector:</p>
<div class="codewrapper sourceCode" id="cb74">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span><span class="op">[</span><span class="va">title</span> <span class="op">%in%</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Die Hard"</span>, <span class="st">"Home Alone"</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Home Alone" "Die Hard"  </code></pre>
</div>
<p>You can also use a vector with <code>TRUE</code> and
<code>FALSE</code> based on one vector to find informations in another
vectore. For instance if we want the imdb scores for the movies ‚ÄúFTA‚Äù
and ‚ÄúDostana‚Äù we can do it like this.</p>
<div class="codewrapper sourceCode" id="cb76">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imdb_score</span><span class="op">[</span><span class="va">title</span> <span class="op">%in%</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Die Hard"</span>, <span class="st">"Home Alone"</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error: object 'imdb_score' not found</code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="missing-data">Missing data<a class="anchor" aria-label="anchor" href="#missing-data"></a>
</h2>
<hr class="half-width">
<p>As R was designed to analyze datasets, it includes the concept of
missing data (which is uncommon in other programming languages). Missing
data are represented in vectors as <code>NA</code>.</p>
<p>When doing operations on numbers, most functions will return
<code>NA</code> if the data you are working with include missing values.
This feature makes it harder to overlook the cases where you are dealing
with missing data. You can add the argument <code>na.rm=TRUE</code> to
calculate the result while ignoring the missing values.</p>
<div class="codewrapper sourceCode" id="cb78">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Makes an new vector with NA values</span></span>
<span><span class="va">imdb_rating_na</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">imdb_rating</span>, <span class="cn">NA</span>, <span class="fl">8</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="co">#tries to calculate mean - without ignoring NA values</span></span>
<span><span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NA</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb80">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#tries to find the maximum value - without ignoring NA values</span></span>
<span><span class="fu">max</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NA</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb82">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#tries to calculate mean - telling R to ignore NA values</span></span>
<span><span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating_na</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.58</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb84">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#tries to find the maximum value - telling R to ignore NA values</span></span>
<span><span class="fu">max</span><span class="op">(</span><span class="va">imdb_rating_na</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8.2</code></pre>
</div>
<p>If your data include missing values, you may want to become familiar
with the functions <code>is.na()</code>, <code>na.omit()</code>, and
<code>complete.cases()</code>. See below for examples.</p>
<div class="codewrapper sourceCode" id="cb86">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Extract those elements which are not missing values.</span></span>
<span><span class="va">imdb_rating_na</span><span class="op">[</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 6.4 8.2 8.0</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb88">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Count the number of missing values.</span></span>
<span><span class="fu">sum</span><span class="op">(</span><span class="fu">is.na</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb90">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Returns the object with incomplete cases removed. The returned object is an atomic vector of type `"numeric"` (or `"double"`).</span></span>
<span><span class="fu">na.omit</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 6.4 8.2 8.0
attr(,"na.action")
[1] 5 7
attr(,"class")
[1] "omit"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb92">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Extract those elements which are complete cases. The returned object is an atomic vector of type `"numeric"` (or `"double"`).</span></span>
<span><span class="va">imdb_rating_na</span><span class="op">[</span><span class="fu">complete.cases</span><span class="op">(</span><span class="va">imdb_rating_na</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7.6 7.7 6.4 8.2 8.0</code></pre>
</div>
<p>Recall that you can use the <code>typeof()</code> function to find
the type of your atomic vector.</p>
<!-- ::::::::::::::::::::::::::::::::::::: challenge

## Exercise

1. Using this vector of rooms, create a new vector with the NAs removed.
```r
rooms <- c(1, 2, 1, 1, NA, 3, 1, 3, 2, 1, 1, 8, 3, 1, NA, 1)
```

2. Use the function `median()` to calculate the median of the `rooms` vector.

3. Use R to figure out how many households in the set use more than 2 rooms for sleeping.

:::::::::::::::::::::::: solution

## Solution

``` r
rooms <- c(1, 2, 1, 1, NA, 3, 1, 3, 2, 1, 1, 8, 3, 1, NA, 1)
rooms_no_na <- rooms[!is.na(rooms)]
# or
rooms_no_na <- na.omit(rooms)
# 2.
median(rooms, na.rm = TRUE)
```

``` output
[1] 1
```

``` r
# 3.
rooms_above_2 <- rooms_no_na[rooms_no_na > 2]
length(rooms_above_2)
```

``` output
[1] 4
```

:::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::: -->
</section><section><h2 class="section-heading" id="data-frames">Data frames<a class="anchor" aria-label="anchor" href="#data-frames"></a>
</h2>
<hr class="half-width">
<p>Normaly we do not work with data in seperate vectors. Instead it
would be in a spreadsheet like format. In R this is called data
frame</p>
<p>A dataframe is made up by columns of vectors, so we can combine the
three vectors to a dataframe.</p>
<div class="codewrapper sourceCode" id="cb94">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">data.frame</span><span class="op">(</span><span class="va">title</span>, <span class="va">imdb_rating</span>, <span class="va">genre_1</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          title imdb_rating   genre_1
1 Love Actually         7.6    Comedy
2    Home Alone         7.7    Comedy
3    The Grinch         6.4 Animation
4      Die Hard         8.2    Action</code></pre>
</div>
<p>So it is possible to make an data frame directly in R, but most of
the time data are collected outside R, and afterwards imported to R.</p>
<p>Now that we have learned about writing code, and the basics of R‚Äôs
data structures, we are ready to start working a real dataset, and learn
more about data frames.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Access individual values by location using <code>[]</code>.</li>
<li>Access arbitrary sets of data using <code>[c(...)]</code>.</li>
<li>Use logical operations and logical vectors to access subsets of
data.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-02-starting-with-data"><p>Content from <a href="02-starting-with-data.html">Starting with Data</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/02-starting-with-data.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is a data.frame?</li>
<li>How can I read a complete csv file into R?</li>
<li>How can I get basic summary information about my dataset?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Describe what a data frame is.</li>
<li>Load external data from a .csv file into a data frame.</li>
<li>Summarize the contents of a data frame.</li>
<li>Subset and extract values from data frames.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-are-data-frames-and-tibbles">What are data frames and tibbles?<a class="anchor" aria-label="anchor" href="#what-are-data-frames-and-tibbles"></a>
</h2>
<hr class="half-width">
<p>Data frames are the <em>de facto</em> data structure for tabular data
in <code>R</code>, and what we use for data processing, statistics, and
plotting.</p>
<p>A data frame is the representation of data in the format of a table
where the columns are vectors that all have the same length. Data frames
are analogous to the more familiar spreadsheet in programs such as
Excel, with one key difference. Because columns are vectors, each column
must contain a single type of data (e.g., characters, integers,
factors). For example, here is a figure depicting a data frame
comprising a numeric, a character, and a logical vector.</p>
<p><img src="../fig/data-frame.svg" alt="A 3 by 3 data frame with columns showing numeric, character and logical values." class="figure">{alt
= ‚ÄòA 3 by 3 data frame with columns showing numeric, character and
logical values.‚Äô}</p>
<p>As shown in the previous lesson data frames can be created by hand,
but most commonly they are generated by functions eg.
<code>read_csv()</code> or <code>read_table()</code> - in other words,
by importing spreadsheets from your hard drive (or the web). We will now
demonstrate how to import tabular data using
<code>read_csv()</code>.</p>
</section><section><h2 class="section-heading" id="presentation-of-the-xmas_movies-dataset">Presentation of the xmas_movies dataset<a class="anchor" aria-label="anchor" href="#presentation-of-the-xmas_movies-dataset"></a>
</h2>
<hr class="half-width">
<p>The data set we will import is xmas_movies.csv. It is list of
Christmas movies IMDB. Each row holds information about a single movie ,
and the columns represent:</p>
<table class="table">
<thead><tr class="header">
<th>column_name</th>
<th>description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>The title of the movie or serie</td>
</tr>
<tr class="even">
<td>rating</td>
<td>Information about which age group the movie is suitable for</td>
</tr>
<tr class="odd">
<td>runtime</td>
<td>How long the movie is</td>
</tr>
<tr class="even">
<td>imdb_rating</td>
<td>The score of the movie or serie in the IMDB database</td>
</tr>
<tr class="odd">
<td>tmdb_rating</td>
<td>The score of the movie or serie in the movie database</td>
</tr>
<tr class="even">
<td>meta_score</td>
<td>A combination different scores</td>
</tr>
<tr class="odd">
<td>genre_1</td>
<td>Genre</td>
</tr>
<tr class="even">
<td>genre_2</td>
<td>Genre</td>
</tr>
<tr class="odd">
<td>genre_3</td>
<td>Genre</td>
</tr>
<tr class="even">
<td>description</td>
<td>A short description of the movie</td>
</tr>
<tr class="odd">
<td>director</td>
<td>Name of the director of the movie</td>
</tr>
<tr class="even">
<td>stars</td>
<td>The movie‚Äôs main actors</td>
</tr>
<tr class="odd">
<td>votes</td>
<td>The number of votes</td>
</tr>
<tr class="even">
<td>gross</td>
<td>The movie‚Äôs gross earnings</td>
</tr>
</tbody>
</table></section><section><h2 class="section-heading" id="importing-data">Importing data<a class="anchor" aria-label="anchor" href="#importing-data"></a>
</h2>
<hr class="half-width">
<p>You are going load the data in R‚Äôs memory using the function
<code>read_csv()</code> from the <strong><code>readr</code></strong>
package, which is part of the <strong><code>tidyverse</code></strong>;
learn more about the <strong><code>tidyverse</code></strong> <a href="https://www.tidyverse.org/" class="external-link">collection of packages here</a>.
<strong><code>readr</code></strong> gets installed as part as the
<strong><code>tidyverse</code></strong> installation. When you load the
<strong><code>tidyverse</code></strong>
(<code><a href="https://tidyverse.tidyverse.org" class="external-link">library(tidyverse)</a></code>), the core packages (the packages used
in most data analyses) get loaded, including
<strong><code>readr</code></strong>.</p>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div class="callout-inner">
<div class="callout-content">
<p>##read.csv() vs.¬†read_csv()</p>
<p>If you were to type in the code above, it is likely that the
<code>read.csv()</code> function would appear in the automatically
populated list of functions. This function is different from the
<code>read_csv()</code> function, as it is included in the ‚Äúbase‚Äù
packages that come pre-installed with R. Overall,
<code>read.csv()</code> behaves similar to <code>read_csv()</code>, with
a few notable differences. First, <code>read.csv()</code> coerces column
names with spaces and/or special characters to different names
(e.g.¬†<code>interview date</code> becomes <code>interview.date</code>).
Second, <code>read.csv()</code> stores data as a
<code>data.frame</code>, where <code>read_csv()</code> stores data as a
<code>tibble</code>. We prefer tibbles because they have nice printing
properties among other desirable qualities. <a href="https://tibble.tidyverse.org/" class="external-link">Read more about tibbles
here</a>.</p>
</div>
</div>
</div>
<p>Before we can use the <code>read_csv()</code> we need to load the
tidyverse package.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span></code></pre>
</div>
<p>After this we can read in the data set.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/xmas_movies.csv"</span>, na <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"NA"</span>, <span class="st">"NULL"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div id="note" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="note" class="callout-inner">
<h3 class="callout-title">Note</h3>
<div class="callout-content">
<p><code>read_csv()</code> assumes that fields are delimited by commas.
However, in several countries, the comma is used as a decimal separator
and the semicolon (;) is used as a field delimiter. If you want to read
in this type of files in R, you can use the <code>read_csv2</code>
function. It behaves exactly like <code>read_csv</code> but uses
different parameters for the decimal and the field separators. If you
are working with another format, they can be both specified by the user.
Check out the help for <code>read_csv()</code> by typing
<code>?read_csv</code> to learn more. There is also the
<code>read_tsv()</code> for tab-separated data files, and
<code>read_delim()</code> allows you to specify more details about the
structure of your file.</p>
</div>
</div>
</div>
<p>The first argument <code>read_csv</code> takes is the path to til
file. The specific path is dependent on the specific setup. If you have
followed the recommendations for structuring your project-folder, it
should be the above command.</p>
<p>If you recall, a dataset can include missing values. They can be
represented in different ways, so the secsecond argument tell R to
automatically convert all the ‚ÄúNULL‚Äù or ‚ÄúNA‚Äù entries in the dataset into
<code>NA</code>.</p>
<p>By using <code>&lt;-</code> we assign the dataset to the object
<code>xmas_movies</code>. Because we assign the data frame to an object
no outpu is created. If we want to check that our data has been loaded,
we can see the content of the data frame by typing its name:
<code>xmas_movies</code> in the console.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span></span>
<span><span class="co">## Try also</span></span>
<span><span class="co">## view(xmas_movies)</span></span>
<span><span class="co">## head(xmas_movies)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 14
   title       rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
   &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
 1 Love Actua‚Ä¶ R          135         7.6         4.3         55 Comedy  Drama
 2 Home Alone  PG         103         7.7         8.8         63 Comedy  Family
 3 National L‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
 4 Elf         PG          97         7.1         6           66 Advent‚Ä¶ Comedy
 5 How the Gr‚Ä¶ PG         104         6.3         2.5         46 Comedy  Family
 6 The Grinch  PG          85         6.4         2.5         51 Animat‚Ä¶ Comedy
 7 Die Hard    R          132         8.2         1.8         72 Action  Thrill‚Ä¶
 8 Home Alone‚Ä¶ PG         120         6.9         8.1         46 Advent‚Ä¶ Comedy
 9 The Polar ‚Ä¶ G          100         6.6         6           61 Animat‚Ä¶ Advent‚Ä¶
10 It's a Won‚Ä¶ PG         130         8.6         6.9         89 Drama   Family
# ‚Ñπ 863 more rows
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<p>Note that <code>read_csv()</code> actually loads the data as a
tibble. A tibble is an extension of <code>R</code> data frames used by
the <strong><code>tidyverse</code></strong>. When the data is read using
<code>read_csv()</code>, it is stored in an object of class
<code>tbl_df</code>, <code>tbl</code>, and <code>data.frame</code>. You
can see the class of an object with</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">class</span><span class="op">(</span><span class="va">xmas_movies</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "spec_tbl_df" "tbl_df"      "tbl"         "data.frame" </code></pre>
</div>
<p>As a <code>tibble</code>, the type of data included in each column is
listed in an abbreviated fashion below the column names. For instance,
here <code>runtime</code> is a column of floating point numbers
(abbreviated <code>&lt;dbl&gt;</code> for the word ‚Äòdouble‚Äô), and
<code>title</code> is a column of characters
(<code>&lt;chr&gt;</code>).</p>
</section><section><h2 class="section-heading" id="inspecting-data-frames">Inspecting data frames<a class="anchor" aria-label="anchor" href="#inspecting-data-frames"></a>
</h2>
<hr class="half-width">
<p>When calling a <code>tbl_df</code> object (like
<code>xmas_movies</code> here), there is already a lot of information
about our data frame being displayed such as the number of rows, the
number of columns, the names of the columns, and as we just saw the
class of data stored in each column. However, there are functions to
extract this information from data frames. Here is a non-exhaustive list
of some of these functions. Let‚Äôs try them out!</p>
<p>Size:</p>
<ul>
<li>
<code>dim(xmas_movies)</code> - returns a vector with the number of
rows as the first element, and the number of columns as the second
element (the <strong>dim</strong>ensions of the object)</li>
<li>
<code>nrow(xmas_movies)</code> - returns the number of rows</li>
<li>
<code>ncol(xmas_movies)</code> - returns the number of columns</li>
</ul>
<p>Content:</p>
<ul>
<li>
<code>head(xmas_movies)</code> - shows the first 6 rows</li>
<li>
<code>tail(xmas_movies)</code> - shows the last 6 rows</li>
</ul>
<p>Names:</p>
<ul>
<li>
<code>names(xmas_movies)</code> - returns the column names (synonym
of <code>colnames()</code> for <code>data.frame</code> objects)</li>
</ul>
<p>Summary:</p>
<ul>
<li>
<code>str(xmas_movies)</code> - structure of the object and
information about the class, length and content of each column</li>
<li>
<code>summary(xmas_movies)</code> - summary statistics for each
column</li>
<li>
<code>glimpse(xmas_movies)</code> - returns the number of columns
and rows of the tibble, the names and class of each column, and previews
as many values will fit on the screen. Unlike the other inspecting
functions listed above, <code>glimpse()</code> is not a ‚Äúbase R‚Äù
function so you need to have the <code>dplyr</code> or
<code>tibble</code> packages loaded to be able to execute it.</li>
</ul>
<p>Note: most of these functions are ‚Äúgeneric.‚Äù They can be used on
other types of objects besides data frames or tibbles.</p>
</section><section><h2 class="section-heading" id="indexing-and-subsetting-data-frames">Indexing and subsetting data frames<a class="anchor" aria-label="anchor" href="#indexing-and-subsetting-data-frames"></a>
</h2>
<hr class="half-width">
<p>Our <code>xmas_movies</code> data frame has rows and columns (it has
2 dimensions). In practice, we may not need the entire data frame; for
instance, we may only be interested in a subset of the observations (the
rows) or a particular set of variables (the columns) - just as we did
with vectors in 1 dimension. If we want to extract some specific data
from it, we need to specify the ‚Äúcoordinates‚Äù we want from it. Row
numbers come first, followed by column numbers.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first element in the first column of the tibble</span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 √ó 1
  title
  &lt;chr&gt;
1 Love Actually</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first element in the 6th column of the tibble </span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">6</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 √ó 1
  meta_score
       &lt;dbl&gt;
1         55</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first column of the tibble (as a vector, truncated, rather than showing all 5850 values)</span></span>
<span><span class="va">xmas_movies</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span> <span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Love Actually"
[2] "Home Alone"
[3] "National Lampoon's Christmas Vacation"
[4] "Elf"
[5] "How the Grinch Stole Christmas"
[6] "The Grinch"                           </code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first column of the tibble</span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 1
   title
   &lt;chr&gt;
 1 Love Actually
 2 Home Alone
 3 National Lampoon's Christmas Vacation
 4 Elf
 5 How the Grinch Stole Christmas
 6 The Grinch
 7 Die Hard
 8 Home Alone 2: Lost in New York
 9 The Polar Express
10 It's a Wonderful Life
# ‚Ñπ 863 more rows</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## first three elements in the 7th column of the tibble</span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">7</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 3 √ó 1
  genre_1
  &lt;chr&gt;
1 Comedy
2 Comedy
3 Comedy </code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## the 3rd row of the tibble</span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 √ó 14
  title        rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
  &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1 National La‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## equivalent to head_xmas_movies &lt;- head(xmas_movies)</span></span>
<span><span class="va">head_xmas_movies</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="op">]</span></span></code></pre>
</div>
<p><code>:</code> is a special function that creates numeric vectors of
integers in increasing or decreasing order, test <code>1:10</code> and
<code>10:1</code> for instance.</p>
<p>You can also exclude certain indices of a data frame using the
‚Äú<code>-</code>‚Äù sign:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>          <span class="co"># The whole tibble, except the first column</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 13
   rating runtime imdb_rating tmdb_rating meta_score genre_1   genre_2   genre_3
   &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;
 1 R          135         7.6         4.3         55 Comedy    Drama     Romance
 2 PG         103         7.7         8.8         63 Comedy    Family    &lt;NA&gt;
 3 PG-13       97         7.5         7.1         49 Comedy    &lt;NA&gt;      &lt;NA&gt;
 4 PG          97         7.1         6           66 Adventure Comedy    Family
 5 PG         104         6.3         2.5         46 Comedy    Family    Fantasy
 6 PG          85         6.4         2.5         51 Animation Comedy    Family
 7 R          132         8.2         1.8         72 Action    Thriller  &lt;NA&gt;
 8 PG         120         6.9         8.1         46 Adventure Comedy    Crime
 9 G          100         6.6         6           61 Animation Adventure Comedy
10 PG         130         8.6         6.9         89 Drama     Family    Fantasy
# ‚Ñπ 863 more rows
# ‚Ñπ 5 more variables: description &lt;chr&gt;, director &lt;chr&gt;, stars &lt;chr&gt;,
#   votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span><span class="op">[</span><span class="op">-</span><span class="fu">c</span><span class="op">(</span><span class="fl">7</span><span class="op">:</span><span class="fl">131</span><span class="op">)</span>, <span class="op">]</span>   <span class="co"># Equivalent to head(interviews)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 748 √ó 14
   title       rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
   &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
 1 Love Actua‚Ä¶ R          135         7.6         4.3         55 Comedy  Drama
 2 Home Alone  PG         103         7.7         8.8         63 Comedy  Family
 3 National L‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
 4 Elf         PG          97         7.1         6           66 Advent‚Ä¶ Comedy
 5 How the Gr‚Ä¶ PG         104         6.3         2.5         46 Comedy  Family
 6 The Grinch  PG          85         6.4         2.5         51 Animat‚Ä¶ Comedy
 7 The Christ‚Ä¶ &lt;NA&gt;        86         5           3.1         NA Comedy  Romance
 8 The Apartm‚Ä¶ Appro‚Ä¶     125         8.3         2.2         94 Comedy  Drama
 9 A Season f‚Ä¶ TV-G        90         7           4           NA Romance &lt;NA&gt;
10 A Princess‚Ä¶ TV-G        91         6.3         8.7         NA Comedy  Drama
# ‚Ñπ 738 more rows
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<p><code>tibble</code>s can be subset by calling indices (as shown
previously), but also by calling their column names directly:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span><span class="op">[</span><span class="st">"title"</span><span class="op">]</span>       <span class="co"># Result is a tibble</span></span>
<span></span>
<span><span class="va">xmas_movies</span><span class="op">[</span>, <span class="st">"title"</span><span class="op">]</span>     <span class="co"># Result is a tibble</span></span>
<span></span>
<span><span class="va">xmas_movies</span><span class="op">[[</span><span class="st">"title"</span><span class="op">]</span><span class="op">]</span>     <span class="co"># Result is a vector</span></span>
<span></span>
<span><span class="va">xmas_moviese</span><span class="op">$</span><span class="va">title</span>          <span class="co"># Result is a vector</span></span></code></pre>
</div>
<p>In RStudio, you can use the autocompletion feature to get the full
and correct names of the columns.</p>
<div id="tip" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="tip" class="callout-inner">
<h3 class="callout-title">Tip</h3>
<div class="callout-content">
<p>Indexing a <code>tibble</code> with <code>[</code> or <code>[[</code>
or <code>$</code> always results in a <code>tibble</code>. However, note
this is not true in general for data frames, so be careful! Different
ways of specifying these coordinates can lead to results with different
classes. This is covered in the Software Carpentry lesson <a href="https://swcarpentry.github.io/r-novice-gapminder/" class="external-link">R for
Reproducible Scientific Analysis</a>.</p>
</div>
</div>
</div>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li><p>Create a tibble (<code>xmas_movies_100</code>) containing only
the data in row 100 of the <code>xmas_movies</code> dataset.</p></li>
<li>
<p>Notice how <code>nrow()</code> gave you the number of rows in the
tibble?</p>
<ul>
<li>Use that number to pull out just that last row in the tibble.</li>
<li>Compare that with what you see as the last row using
<code>tail()</code> to make sure it‚Äôs meeting expectations.</li>
<li>Pull out that last row using <code>nrow()</code> instead of the row
number.</li>
<li>Create a new tibble (<code>xmas_movies_last</code>) from that last
row.</li>
</ul>
</li>
<li><p>Using the number of rows in the xmas_movies dataset that you
found in question 2, extract the row that is in the middle of the
dataset. Store the content of this middle row in an object named
<code>xmas_movies_middle</code>.</p></li>
</ol>
<p>(hint: This dataset has an odd number of rows, so finding the middle
is a bit trickier than dividing n_rows by 2. Use the median( ) function
and what you‚Äôve learned about sequences in R to extract the middle
row!</p>
<ol start="4" style="list-style-type: decimal">
<li>Combine <code>nrow()</code> with the <code>-</code> notation above
to reproduce the behavior of <code>head(interviews)</code>, keeping just
the first through 6th rows of the interviews dataset.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1.</span></span>
<span><span class="va">xmas_movies_100</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span><span class="op">[</span><span class="fl">100</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># 2.</span></span>
<span><span class="co"># Saving `n_rows` to improve readability and reduce duplication</span></span>
<span><span class="va">n_rows</span> <span class="op">&lt;-</span> <span class="fu">nrow</span><span class="op">(</span><span class="va">xmas_movies</span><span class="op">)</span></span>
<span><span class="va">xmas_movies_last</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span><span class="op">[</span><span class="va">n_rows</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># 3.</span></span>
<span><span class="va">xmas_movies_middle</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span><span class="op">[</span><span class="fu">median</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n_rows</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># 4.</span></span>
<span><span class="va">xmas_movies_head</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">7</span><span class="op">:</span><span class="va">n_rows</span><span class="op">)</span>, <span class="op">]</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use read_csv to read tabular data in R.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-03-dplyr-tidyr"><p>Content from <a href="03-dplyr-tidyr.html">Data Wrangling with dplyr and tidyr</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/03-dplyr-tidyr.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="snowstorm.txt"></script><p>
do
<script src="whatever">

</script></p>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I select specific rows and/or columns from a dataframe?</li>
<li>How can I combine multiple commands into a single command?</li>
<li>How can I create new columns or remove existing columns from a
dataframe?</li>
<li>How can I reformat a dataframe to meet my needs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Describe the purpose of an R package and the
<strong><code>dplyr</code></strong> and
<strong><code>tidyr</code></strong> packages.</li>
<li>Select certain columns in a dataframe with the
<strong><code>dplyr</code></strong> function <code>select</code>.</li>
<li>Select certain rows in a dataframe according to filtering conditions
with the <strong><code>dplyr</code></strong> function
<code>filter</code>.</li>
<li>Link the output of one <strong><code>dplyr</code></strong> function
to the input of another function with the ‚Äòpipe‚Äô operator
<code>%&gt;%</code>.</li>
<li>Add new columns to a dataframe that are functions of existing
columns with <code>mutate</code>.</li>
<li>Use the split-apply-combine concept for data analysis.</li>
<li>Use <code>summarize</code>, <code>group_by</code>, and
<code>count</code> to split a dataframe into groups of observations,
apply a summary statistics for each group, and then combine the
results.</li>
<li>Describe the concept of a wide and a long table format and for which
purpose those formats are useful.</li>
<li>Describe the roles of variable names and their associated values
when a table is reshaped.</li>
<li>Reshape a dataframe from long to wide format and back with the
<code>pivot_wider</code> and <code>pivot_longer</code> commands from the
<strong><code>tidyr</code></strong> package.</li>
<li>Export a dataframe to a csv file.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><strong><code>dplyr</code></strong> is a package for making tabular
data wrangling easier by using a limited set of functions that can be
combined to extract and summarize insights from your data. It pairs
nicely with <strong><code>tidyr</code></strong> which enables you to
swiftly convert between different data formats (long vs.¬†wide) for
plotting and analysis.</p>
<p>Similarly to <strong><code>readr</code></strong>,
<strong><code>dplyr</code></strong> and
<strong><code>tidyr</code></strong> are also part of the tidyverse.
These packages üéÅ were loaded in R‚Äôs memory when we called
<code><a href="https://tidyverse.tidyverse.org" class="external-link">library(tidyverse)</a></code> earlier.</p>
<div id="note" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="note" class="callout-inner">
<h3 class="callout-title">Note</h3>
<div class="callout-content">
<p>The packages in the tidyverse, namely
<strong><code>dplyr</code></strong>, <strong><code>tidyr</code></strong>
and <strong><code>ggplot2</code></strong> accept both the British
(e.g.¬†<em>summarise</em>) and American (e.g.¬†<em>summarize</em>)
spelling variants of different function and option names. For this
lesson, we utilize the American spellings of different functions;
however, feel free to use the regional variant for where you are
teaching.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-an-r-package">What is an R package üéÅ?<a class="anchor" aria-label="anchor" href="#what-is-an-r-package"></a>
</h2>
<hr class="half-width">
<p>The package <strong><code>dplyr</code></strong> provides easy tools
for the most common data wrangling tasks. It is built to work directly
with dataframes, with many common tasks optimized by being written in a
compiled language (C++) (not all R packages are written in R!).</p>
<p>The package <strong><code>tidyr</code></strong> addresses the common
problem of wanting to reshape your data for plotting and use by
different R functions. Sometimes we want data sets where we have one row
per measurement. Sometimes we want a dataframe where each measurement
type has its own column, and rows are instead more aggregated groups.
Moving back and forth between these formats is nontrivial, and
<strong><code>tidyr</code></strong> gives you tools for this and more
sophisticated data wrangling.</p>
<p>But there are also packages available for a wide range of tasks
including building plots (<strong><code>ggplot2</code></strong>, which
we‚Äôll see later), downloading data from the NCBI database, or performing
statistical analysis on your data set. Many packages such as these are
housed on, and downloadable from, the <strong>C</strong>omprehensive
<strong>R</strong> <strong>A</strong>rchive <strong>N</strong>etwork
(CRAN) using <code>install.packages</code>. This function makes the
package accessible by your R installation with the command
<code>library()</code>, as you did with <code>tidyverse</code>
earlier.</p>
<p>To easily access the documentation for a package within R or RStudio,
use <code><a href="https://rdrr.io/pkg/package_name/man" class="external-link">help(package = "package_name")</a></code>.</p>
<p>To learn more about <strong><code>dplyr</code></strong> and
<strong><code>tidyr</code></strong> after the workshop, you may want to
check out this <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf" class="external-link">handy
data transformation with <strong><code>dplyr</code></strong>
cheatsheet</a> and this <a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf" class="external-link">one
about <strong><code>tidyr</code></strong></a>.</p>
</section><section><h2 class="section-heading" id="learning-dplyr-and-tidyr">Learning <strong><code>dplyr</code></strong> and
<strong><code>tidyr</code></strong>
<a class="anchor" aria-label="anchor" href="#learning-dplyr-and-tidyr"></a>
</h2>
<hr class="half-width">
<p>We are working with the same dataset as earlier. Refer to the
previous lesson to download the data, if you do not have it loaded.</p>
<p>We‚Äôre going to learn some of the most common
<strong><code>dplyr</code></strong> functions:</p>
<ul>
<li>
<code>select()</code>: subset columns</li>
<li>
<code>filter()</code>: subset rows on conditions</li>
<li>
<code>mutate()</code>: create new columns by using information from
other columns</li>
<li>
<code>group_by()</code> and <code>summarize()</code>: create summary
statistics on grouped data</li>
<li>
<code>arrange()</code>: sort results</li>
<li>
<code>count()</code>: count discrete values</li>
</ul></section><section><h2 class="section-heading" id="selecting-columns-and-filtering-rows">Selecting columns and filtering rows ‚ú®<a class="anchor" aria-label="anchor" href="#selecting-columns-and-filtering-rows"></a>
</h2>
<hr class="half-width">
<p>To select columns of a dataframe, use <code>select()</code>. The
first argument to this function is the dataframe
(<code>xmas_movies</code>), and the subsequent arguments are the columns
to keep, separated by commas. Alternatively, if you are selecting
columns adjacent to each other, you can use a <code>:</code> to select a
range of columns, read as ‚Äúselect columns from ___ to ___.‚Äù</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># to select columns throughout the dataframe</span></span>
<span><span class="fu">select</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">title</span>, <span class="va">description</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 2
   title                                 description
   &lt;chr&gt;                                 &lt;chr&gt;
 1 Love Actually                         Follows the lives of eight very differ‚Ä¶
 2 Home Alone                            An eight-year-old troublemaker, mistak‚Ä¶
 3 National Lampoon's Christmas Vacation The Griswold family's plans for a big ‚Ä¶
 4 Elf                                   Raised as an oversized elf, Buddy trav‚Ä¶
 5 How the Grinch Stole Christmas        On the outskirts of Whoville lives a g‚Ä¶
 6 The Grinch                            A grumpy Grinch plots to ruin Christma‚Ä¶
 7 Die Hard                              A New York City police officer tries t‚Ä¶
 8 Home Alone 2: Lost in New York        One year after Kevin McCallister was l‚Ä¶
 9 The Polar Express                     On Christmas Eve, a young boy embarks ‚Ä¶
10 It's a Wonderful Life                 An angel is sent from Heaven to help a‚Ä¶
# ‚Ñπ 863 more rows</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># to select a series of connected columns</span></span>
<span><span class="fu">select</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">title</span><span class="op">:</span><span class="va">description</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 10
   title       rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
   &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
 1 Love Actua‚Ä¶ R          135         7.6         4.3         55 Comedy  Drama
 2 Home Alone  PG         103         7.7         8.8         63 Comedy  Family
 3 National L‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
 4 Elf         PG          97         7.1         6           66 Advent‚Ä¶ Comedy
 5 How the Gr‚Ä¶ PG         104         6.3         2.5         46 Comedy  Family
 6 The Grinch  PG          85         6.4         2.5         51 Animat‚Ä¶ Comedy
 7 Die Hard    R          132         8.2         1.8         72 Action  Thrill‚Ä¶
 8 Home Alone‚Ä¶ PG         120         6.9         8.1         46 Advent‚Ä¶ Comedy
 9 The Polar ‚Ä¶ G          100         6.6         6           61 Animat‚Ä¶ Advent‚Ä¶
10 It's a Won‚Ä¶ PG         130         8.6         6.9         89 Drama   Family
# ‚Ñπ 863 more rows
# ‚Ñπ 2 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;</code></pre>
</div>
<p>To choose rows based on specific criteria, we can use the
<code>filter()</code> function. The argument after the dataframe is the
condition we want our final dataframe to adhere to (e.g.¬†rating is
PG-13):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filters observations where rating name is "PG-13" </span></span>
<span><span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 24 √ó 14
   title       rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
   &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
 1 National L‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
 2 Scrooged    PG-13      101         6.9         7.9         38 Comedy  Drama
 3 Spirited    PG-13      127         6.6         3           55 Comedy  Family
 4 Last Chris‚Ä¶ PG-13      103         6.5         4.7         50 Comedy  Drama
 5 Four Chris‚Ä¶ PG-13       88         5.7         3.6         41 Comedy  Drama
 6 Happiest S‚Ä¶ PG-13      102         6.6         6           69 Comedy  Romance
 7 Shazam!     PG-13      132         7           3.4         71 Action  Advent‚Ä¶
 8 Surviving ‚Ä¶ PG-13       91         5.4         3.5         19 Comedy  Romance
 9 Batman Ret‚Ä¶ PG-13      126         7.1         7.4         68 Action  Crime
10 Edward Sci‚Ä¶ PG-13      105         7.9         2.9         74 Drama   Fantasy
# ‚Ñπ 14 more rows
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<p>We can also specify multiple conditions within the
<code>filter()</code> function. We can combine conditions using either
‚Äúand‚Äù or ‚Äúor‚Äù statements. In an ‚Äúand‚Äù statement, an observation (row)
must meet <strong>every</strong> criteria to be included in the
resulting dataframe. To form ‚Äúand‚Äù statements within dplyr, we can pass
our desired conditions as arguments in the <code>filter()</code>
function, separated by commas:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filters observations with "and" operator (comma)</span></span>
<span><span class="co"># output dataframe satisfies ALL specified conditions</span></span>
<span><span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span>,</span>
<span>                   <span class="va">runtime</span> <span class="op">&gt;</span> <span class="fl">100</span>,</span>
<span>                   <span class="va">imdb_rating</span> <span class="op">&lt;</span> <span class="fl">6.0</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 √ó 14
  title        rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
  &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1 A Californi‚Ä¶ PG-13      106         5.8         8.2         NA Comedy  Drama
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<p>We can also form ‚Äúand‚Äù statements with the <code>&amp;</code>
operator instead of commas:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filters observations with "&amp;" logical operator</span></span>
<span><span class="co"># output dataframe satisfies ALL specified conditions</span></span>
<span><span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span> <span class="op">&amp;</span> </span>
<span>                   <span class="va">runtime</span> <span class="op">&gt;</span> <span class="fl">100</span> <span class="op">&amp;</span> </span>
<span>                   <span class="va">imdb_rating</span> <span class="op">&lt;</span> <span class="fl">6.0</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 √ó 14
  title        rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
  &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1 A Californi‚Ä¶ PG-13      106         5.8         8.2         NA Comedy  Drama
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
<p>In an ‚Äúor‚Äù statement, observations must meet <em>at least one</em> of
the specified conditions. To form ‚Äúor‚Äù statements we use the logical
operator for ‚Äúor,‚Äù which is the vertical bar (|):</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filters observations with "|" logical operator</span></span>
<span><span class="co"># output dataframe satisfies AT LEAST ONE of the specified conditions</span></span>
<span><span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span> <span class="op">|</span> </span>
<span>                   <span class="va">runtime</span> <span class="op">&gt;</span> <span class="fl">100</span> <span class="op">|</span> </span>
<span>                   <span class="va">imdb_rating</span> <span class="op">&lt;</span> <span class="fl">6.0</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 398 √ó 14
   title       rating runtime imdb_rating tmdb_rating meta_score genre_1 genre_2
   &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
 1 Love Actua‚Ä¶ R          135         7.6         4.3         55 Comedy  Drama
 2 Home Alone  PG         103         7.7         8.8         63 Comedy  Family
 3 National L‚Ä¶ PG-13       97         7.5         7.1         49 Comedy  &lt;NA&gt;
 4 How the Gr‚Ä¶ PG         104         6.3         2.5         46 Comedy  Family
 5 Die Hard    R          132         8.2         1.8         72 Action  Thrill‚Ä¶
 6 Home Alone‚Ä¶ PG         120         6.9         8.1         46 Advent‚Ä¶ Comedy
 7 It's a Won‚Ä¶ PG         130         8.6         6.9         89 Drama   Family
 8 White Chri‚Ä¶ &lt;NA&gt;       120         7.6         9           56 Comedy  Musical
 9 Scrooged    PG-13      101         6.9         7.9         38 Comedy  Drama
10 Spirited    PG-13      127         6.6         3           55 Comedy  Family
# ‚Ñπ 388 more rows
# ‚Ñπ 6 more variables: genre_3 &lt;chr&gt;, description &lt;chr&gt;, director &lt;chr&gt;,
#   stars &lt;chr&gt;, votes &lt;dbl&gt;, gross &lt;chr&gt;</code></pre>
</div>
</section><section><h2 class="section-heading" id="pipes">Pipes<a class="anchor" aria-label="anchor" href="#pipes"></a>
</h2>
<hr class="half-width">
<p>What if you want to select and filter at the same time? There are
three ways to do this: use intermediate steps, nested functions, or
pipes.</p>
<p>With intermediate steps, you create a temporary dataframe and use
that as input to the next function, like this:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies2</span> <span class="op">&lt;-</span> <span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span><span class="op">)</span></span>
<span><span class="va">xmas_movies_ch</span> <span class="op">&lt;-</span> <span class="fu">select</span><span class="op">(</span><span class="va">xmas_movies2</span>, <span class="va">title</span><span class="op">:</span><span class="va">description</span><span class="op">)</span></span></code></pre>
</div>
<p>This is readable, but can clutter up your workspace with lots of
objects that you have to name individually. With multiple steps, that
can be hard to keep track of.</p>
<p>You can also nest functions (i.e.¬†one function inside of another),
like this:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies_ch</span> <span class="op">&lt;-</span> <span class="fu">select</span><span class="op">(</span><span class="fu">filter</span><span class="op">(</span><span class="va">xmas_movies</span>, <span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span><span class="op">)</span>,</span>
<span>                         <span class="va">title</span><span class="op">:</span><span class="va">description</span><span class="op">)</span></span></code></pre>
</div>
<p>This is handy, as R evaluates the expression from the inside out (in
this case, filtering, then selecting), but it can be difficult to read
if too many functions are nested,</p>
<p>The last option, <em>pipes</em>, are a recent addition to R. Pipes
let you take the output of one function and send it directly to the
next, which is useful when you need to do many things to the same
dataset. Pipes in R look like <code>%&gt;%</code> and are made available
via the <strong><code>magrittr</code></strong> package, installed
automatically with <strong><code>dplyr</code></strong>. If you use
RStudio, you can type the pipe with:<br>
- <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd> if you have a PC or
<kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd> if you have a Mac.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">filter</span><span class="op">(</span><span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="va">title</span>,<span class="va">description</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 24 √ó 2
   title                                 description
   &lt;chr&gt;                                 &lt;chr&gt;
 1 National Lampoon's Christmas Vacation The Griswold family's plans for a big ‚Ä¶
 2 Scrooged                              A selfish, cynical television executiv‚Ä¶
 3 Spirited                              A musical version of Charles Dickens's‚Ä¶
 4 Last Christmas                        Kate is a young woman subscribed to ba‚Ä¶
 5 Four Christmases                      A couple struggles to visit all four o‚Ä¶
 6 Happiest Season                       A holiday romantic comedy that capture‚Ä¶
 7 Shazam!                               A newly fostered young boy in search o‚Ä¶
 8 Surviving Christmas                   A lonely, obnoxious young millionaire ‚Ä¶
 9 Batman Returns                        While Batman deals with a deformed man‚Ä¶
10 Edward Scissorhands                   The solitary life of an artificial man‚Ä¶
# ‚Ñπ 14 more rows</code></pre>
</div>
<p>In the above code, we use the pipe to send the
<code>xmas_movies</code> dataset first through <code>filter()</code> to
keep rows where <code>rating</code> is ‚ÄúPG-13‚Äù, then through
<code>select()</code> to keep only the <code>title</code> and
<code>description</code> columns. Since <code>%&gt;%</code> takes the
object on its left and passes it as the first argument to the function
on its right, we don‚Äôt need to explicitly include the dataframe as an
argument to the <code>filter()</code> and <code>select()</code>
functions any more.</p>
<p>Some may find it helpful to read the pipe like the word ‚Äúthen‚Äù. For
instance, in the above example, we take the dataframe
<code>xmas_movies</code>, <em>then</em> we <code>filter</code> for rows
with <code>rating == "PG-13"</code>, <em>then</em> we
<code>select</code> columns <code>title</code> and
<code>description</code>. The <strong><code>dplyr</code></strong>
functions by themselves are somewhat simple, but by combining them into
linear workflows with the pipe, we can accomplish more complex data
wrangling operations.</p>
<p>If we want to create a new object with this smaller version of the
data, we can assign it a new name:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies_ch</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">filter</span><span class="op">(</span><span class="va">rating</span> <span class="op">==</span> <span class="st">"PG-13"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="va">title</span>,<span class="va">description</span><span class="op">)</span></span>
<span></span>
<span><span class="va">xmas_movies_ch</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 24 √ó 2
   title                                 description
   &lt;chr&gt;                                 &lt;chr&gt;
 1 National Lampoon's Christmas Vacation The Griswold family's plans for a big ‚Ä¶
 2 Scrooged                              A selfish, cynical television executiv‚Ä¶
 3 Spirited                              A musical version of Charles Dickens's‚Ä¶
 4 Last Christmas                        Kate is a young woman subscribed to ba‚Ä¶
 5 Four Christmases                      A couple struggles to visit all four o‚Ä¶
 6 Happiest Season                       A holiday romantic comedy that capture‚Ä¶
 7 Shazam!                               A newly fostered young boy in search o‚Ä¶
 8 Surviving Christmas                   A lonely, obnoxious young millionaire ‚Ä¶
 9 Batman Returns                        While Batman deals with a deformed man‚Ä¶
10 Edward Scissorhands                   The solitary life of an artificial man‚Ä¶
# ‚Ñπ 14 more rows</code></pre>
</div>
<p>Note that the final dataframe (<code>xmas_movies_ch</code>) is the
leftmost part of this expression.</p>
<div id="exercise" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Using pipes, subset the <code>xmas_movies</code> data set to include
movies that have a <code>release_year</code> greater than 1980 and
retain only the columns <code>title</code>, <code>runtime</code>, and
<code>rating</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>     <span class="fu">filter</span><span class="op">(</span><span class="va">release_year</span> <span class="op">&gt;</span> <span class="fl">1980</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>     <span class="fu">select</span><span class="op">(</span><span class="va">title</span>, <span class="va">runtime</span>, <span class="va">rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `filter()` at dplyr/R/select.R:54:3:
‚Ñπ In argument: `release_year &gt; 1980`.
Caused by error:
! object 'release_year' not found</code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="mutate">Mutate<a class="anchor" aria-label="anchor" href="#mutate"></a>
</h2>
<hr class="half-width">
<p>Frequently you‚Äôll want to create new columns based on the values in
existing columns, for example to do unit conversions, or to find the
ratio of values in two columns. For this we‚Äôll use
<code>mutate()</code>.</p>
<p>We might be interested in knowing the differences in scores on imdb
vs tmdb:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>score_difference <span class="op">=</span> <span class="va">imdb_rating</span> <span class="op">-</span> <span class="va">tmdb_rating</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">imdb_rating</span>, <span class="va">tmdb_rating</span>, <span class="va">score_difference</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 873 √ó 3
   imdb_rating tmdb_rating score_difference
         &lt;dbl&gt;       &lt;dbl&gt;            &lt;dbl&gt;
 1         7.6         4.3            3.3
 2         7.7         8.8           -1.10
 3         7.5         7.1            0.400
 4         7.1         6              1.1
 5         6.3         2.5            3.8
 6         6.4         2.5            3.9
 7         8.2         1.8            6.4
 8         6.9         8.1           -1.2
 9         6.6         6              0.600
10         8.6         6.9            1.7
# ‚Ñπ 863 more rows</code></pre>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Create a new dataframe from the <code>xmas_movies</code> data set
that meets the following criteria: contains only the <code>title</code>
column and a new column called <code>total_score</code> containing a
value that is equal to the total number of scores on both imdb and tmdb
(<code>imdb_rating</code> plus <code>tmdb_rating</code>). Only the rows
where <code>total_score</code> is greater than 15 should be shown in the
final dataframe.</p>
<p><strong>Hint</strong>: think about how the commands should be ordered
to produce the data frame!</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies_total_score</span> <span class="op">&lt;-</span> <span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_score <span class="op">=</span> <span class="va">imdb_rating</span> <span class="op">+</span> <span class="va">tmdb_rating</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">total_score</span> <span class="op">&gt;</span> <span class="fl">15</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">title</span>, <span class="va">total_score</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="split-apply-combine-data-analysis-and-the-summarize-function">Split-apply-combine data analysis and the summarize() function<a class="anchor" aria-label="anchor" href="#split-apply-combine-data-analysis-and-the-summarize-function"></a>
</h2>
<hr class="half-width">
<p>Many data analysis tasks can be approached using the
<em>split-apply-combine</em> paradigm: split the data into groups, apply
some analysis to each group, and then combine the results.
<strong><code>dplyr</code></strong> makes this very easy through the use
of the <code>group_by()</code> function.</p>
<div class="section level4">
<h4 id="the-summarize-function">The <code>summarize()</code> function<a class="anchor" aria-label="anchor" href="#the-summarize-function"></a>
</h4>
<p><code>group_by()</code> is often used together with
<code>summarize()</code>, which collapses each group into a single-row
summary of that group. <code>group_by()</code> takes as arguments the
column names that contain the <strong>categorical</strong> variables for
which you want to calculate the summary statistics. So to compute the
average imdb_rating by genre:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
‚úñ Column `genre` is not found.</code></pre>
</div>
<p>You may also have noticed that the output from these calls doesn‚Äôt
run off the screen anymore. It‚Äôs one of the advantages of
<code>tbl_df</code> over dataframe.</p>
<p>You can also group by multiple columns:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
Column `genre` is not found.
Column `type` is not found.</code></pre>
</div>
<p>Note that the output is a grouped tibble. To obtain an ungrouped
tibble, use the <code>ungroup</code> function:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
Column `genre` is not found.
Column `type` is not found.</code></pre>
</div>
<p>Once the data are grouped, you can also summarize multiple variables
at the same time (and not necessarily on the same variable). For
instance, we could add a column indicating the maximum imdb_rating given
to a movie or serie:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>              max_imdb_rating <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
Column `genre` is not found.
Column `type` is not found.</code></pre>
</div>
<p>It is sometimes useful to rearrange the result of a query to inspect
the values. For instance, we can sort on <code>min_imdb_rating</code> to
put the group with the smallest imdb_rating first:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>              max_imdb_rating <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">arrange</span><span class="op">(</span><span class="va">max_imdb_rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
Column `genre` is not found.
Column `type` is not found.</code></pre>
</div>
<p>To sort in descending order, we need to add the <code>desc()</code>
function. If we want to sort the results by decreasing order of minimum
imdb_rating:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span>, <span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarize</span><span class="op">(</span>mean_imdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>              max_imdb_rating <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">imdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">max_imdb_rating</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
Column `genre` is not found.
Column `type` is not found.</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="counting">Counting<a class="anchor" aria-label="anchor" href="#counting"></a>
</h4>
<p>When working with data, we often want to know the number of
observations found for each factor or combination of factors. For this
task, <strong><code>dplyr</code></strong> provides <code>count()</code>.
For example, if we wanted to count the number of rows of data for each
village, we would do:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">count</span><span class="op">(</span><span class="va">release_year</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `count()` at magrittr/R/pipe.R:136:3:
! Must group by variables found in `.data`.
‚úñ Column `release_year` is not found.</code></pre>
</div>
<p>For convenience, <code>count()</code> provides the <code>sort</code>
argument to get results in decreasing order:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">count</span><span class="op">(</span><span class="va">release_year</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `count()` at magrittr/R/pipe.R:136:3:
! Must group by variables found in `.data`.
‚úñ Column `release_year` is not found.</code></pre>
</div>
<div id="exercise-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li><p>How many moview and series are there for each rating?</p></li>
<li><p>Use <code>group_by()</code> and <code>summarize()</code> to find
the mean, min, and max for imdb_rating. Also add the number of
observations (hint: see <code>?n</code>).</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Solution 1 </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 13 √ó 2
   rating       n
   &lt;chr&gt;    &lt;int&gt;
 1 Approved    20
 2 G           29
 3 PG          72
 4 PG-13       24
 5 Passed      18
 6 R           15
 7 TV-14       16
 8 TV-G       262
 9 TV-MA        5
10 TV-PG      131
11 TV-Y         4
12 Unrated     10
13 &lt;NA&gt;       267</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Solution 2 </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">genre</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>   <span class="fu">summarize</span><span class="op">(</span></span>
<span>       mean_tmdb_rating <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">tmdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>       min_tmdb_rating <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="va">tmdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>       max_tmdb_rating <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">tmdb_rating</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>       n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span></span>
<span>   <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in `group_by()` at dplyr/R/summarise.R:128:3:
! Must group by variables found in `.data`.
‚úñ Column `genre` is not found.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="exporting-data">Exporting data<a class="anchor" aria-label="anchor" href="#exporting-data"></a>
</h2>
<hr class="half-width">
<p>Now that you have learned how to use
<strong><code>dplyr</code></strong> to extract information from or
summarize your raw data, you may want to export these new data sets to
share them with your collaborators or for archival.</p>
<p>Similar to the <code>read_csv()</code> function used for reading CSV
files into R, there is a <code>write_csv()</code> function that
generates CSV files from dataframes.</p>
<p>Before using <code>write_csv()</code>, we are going to create a new
folder, <code>data_output</code>, in our working directory that will
store this generated dataset. We don‚Äôt want to write generated datasets
in the same directory as our raw data. It‚Äôs good practice to keep them
separate. The <code>data</code> folder should only contain the raw,
unaltered data, and should be left alone to make sure we don‚Äôt delete or
modify it. In contrast, our script will generate the contents of the
<code>data_output</code> directory, so even if the files it contains are
deleted, we can always re-generate them.</p>
<p>Now we can save this dataframe to our <code>data_output</code>
directory.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">write_csv</span><span class="op">(</span><span class="va">xmas_movies_ch</span>, file <span class="op">=</span> <span class="st">"data_output/xmas_movies_changed.csv"</span><span class="op">)</span></span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use the <code>dplyr</code> package to manipulate dataframes.</li>
<li>Use <code>select()</code> to choose variables from a dataframe.</li>
<li>Use <code>filter()</code> to choose data based on values.</li>
<li>Use <code>group_by()</code> and <code>summarize()</code> to work
with subsets of data.</li>
<li>Use <code>mutate()</code> to create new variables.</li>
<li>Use the <code>tidyr</code> package to change the layout of
dataframes.</li>
<li>Use <code>pivot_wider()</code> to go from long to wide format.</li>
<li>Use <code>pivot_longer()</code> to go from wide to long format.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-04-functions-plots"><p>Content from <a href="04-functions-plots.html">A couple of plots. And making our own functions</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/04-functions-plots.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 115 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="questions:">
<ul>
<li>How do I create scatterplots, boxplots, and barplots?</li>
<li>How can I define my own functions?</li>
</ul>
</div>
<div class="objectives:">
<ul>
<li>Produce scatter plots and boxplots using Base R.</li>
<li>Write your own function</li>
<li>Write loops to repeat calculations</li>
<li>Use logical tests in loops</li>
</ul>
</div>
<p>In case you have made changes to the original object we made. We read
in the data in a new object</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xmas_movies_plotting</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/xmas_movies.csv"</span>, na <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"NA"</span>, <span class="st">"NULL"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 873 Columns: 14
‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Delimiter: ","
chr (9): title, rating, genre_1, genre_2, genre_3, description, director, st...
dbl (5): runtime, imdb_rating, tmdb_rating, meta_score, votes

‚Ñπ Use `spec()` to retrieve the full column specification for this data.
‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<section><h2 class="section-heading" id="scatterplots">Scatterplots<a class="anchor" aria-label="anchor" href="#scatterplots"></a>
</h2>
<hr class="half-width">
<p>Scatterplots visualizes the relation between two variables in the
dataset, by plotting individual observations in a two-dimensional graph,
with the position in the x,y-plane defined by the values of the two
variables.</p>
<p>The default plot function in Base R takes two vectors, one containing
the values of the x-axis and one containing the values for the y-axis.
Here we use the $-notation:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plot</span><span class="op">(</span><span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">release_year</span>, <span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">imdb_rating</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Unknown or uninitialised column: `release_year`.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in xy.coords(x, y, xlabel, ylabel, log): 'x' and 'y' lengths differ</code></pre>
</div>
<p>Scatterplots are useful for showing that sort for relationships in
the data. Here it does not appear that the correlation exists; there is
no clear trend.</p>
<p>We might want to adjust the labels on the axes, and add a main
title:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plot</span><span class="op">(</span><span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">release_year</span>, <span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">imdb_rating</span>, </span>
<span>     main <span class="op">=</span> <span class="st">"Relation between release date and their imdb_rating"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Release year"</span>,</span>
<span>     ylab <span class="op">=</span> <span class="st">"imdb rating"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Unknown or uninitialised column: `release_year`.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in xy.coords(x, y, xlabel, ylabel, log): 'x' and 'y' lengths differ</code></pre>
</div>
</section><section><h2 class="section-heading" id="boxplots">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"></a>
</h2>
<hr class="half-width">
<p>We can use boxplots to visualize the distribution of number of
imdb_score for genre:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">boxplot</span><span class="op">(</span><span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">imdb_rating</span><span class="op">~</span><span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">genre_1</span><span class="op">)</span></span></code></pre>
</div>
<p><img src="../fig/04-functions-plots-rendered-unnamed-chunk-2-1.png" style="display: block; margin: auto;" class="figure">
Two new things happens here. First, we are using a new way of telling
the plot function what relationship we want to visualise. The function
notation y~x, tells the boxplot function that we want to visualise y as
a function of x. In this case we want to visualise the number of people,
as af function of the wall type. Secondly, we use a boxplot. A boxplots
shows the distribution of the values on the y-axis. The median value is
indicated by the solid bar. The box encapsulates 50% of the
observations. Its upper and lower borders represents the interquartile
range (IQR). The whiskers on the plot - here only the upper whiskers are
shown due to the nature of the data, represents the range of the data.
The distance from the upper part of the box, to the whisker is 1.5 times
the interquartile range. The dots that we see for muddaub and sunbricks
are outliers. Observations that lies so far from the rest of the
observations, that we consider them as outliers.</p>
<p>Depending on the data, and the nature of the analyses we are going to
do, outliers are either very interesting, or something that we can
ignore.</p>
</section><section><h2 class="section-heading" id="histograms">Histograms<a class="anchor" aria-label="anchor" href="#histograms"></a>
</h2>
<hr class="half-width">
<p>Another useful plottype are histograms.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">xmas_movies_plotting</span><span class="op">$</span><span class="va">runtime</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/04-functions-plots-rendered-unnamed-chunk-3-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Histograms counts the number of observations in our data, that lies
between two values. Here the ‚Äúbreaks‚Äù between the values on the x-axis
corresponds nicely to the number of people, but they do not have to.</p>
</section><section><h2 class="section-heading" id="writing-our-own-functions">Writing our own functions<a class="anchor" aria-label="anchor" href="#writing-our-own-functions"></a>
</h2>
<hr class="half-width">
<p>When calculating an average of several values, we do two things.
First we count how many values there are. Then we sum all the values,
and divides the sum by the number of values. Rather than writing R-code
for each of these three operations, we use the mean() function, where
other more experienced programmers have written the code.</p>
<p>We can write our own functions, where we collect several operations
into one function.</p>
<p>Functions in R are defined in this way:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">function_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">temporary_result_1</span> <span class="op">&lt;-</span> <span class="fu">some_function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>  <span class="va">temporary_result_2</span> <span class="op">&lt;-</span> <span class="fu">some_other_function</span><span class="op">(</span><span class="va">temporary_result_1</span><span class="op">)</span></span>
<span>  <span class="fu">yet_another_function</span><span class="op">(</span><span class="va">temporary_result_2</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
</div>
<p>function_name defines the name of our function.</p>
<p>function(x) tells R that we are defining a function, that takes X as
input. We can then use that x as input to calculations or other
functions within our own function.</p>
<p>Between the curly braces {}, we define what we want our function to
do. We assign the result of some_function(x) to a temporary result, use
that as the input to a second function, and the result of that as the
input to a third function. The result of the last calculation we do,
will be returned as the output of our function.</p>
<div id="exercise" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise:</h3>
<div class="callout-content">
<p>Write a function that calculates the average value of a numeric
vector, takes the square root of that average, and returns the
result</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>One way to do this would be:</p>
<p>root_mean &lt;- function(x){ sqrt(mean(x, na.rm=T)) }</p>
<p>Another way could be:</p>
<p>root_mean &lt;- function(x){ temp &lt;- mean(x, na.rm =T)&gt; result
&lt;- sqrt(temp) result }</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="logical-tests-in-functions">Logical tests in functions<a class="anchor" aria-label="anchor" href="#logical-tests-in-functions"></a>
</h2>
<hr class="half-width">
<p>Some times we want to do something different to the data, depending
on the data. We can control the flow of the code using the if()
construction.</p>
<p>As an example: if(x&lt;10){ print(‚ÄúX is smaller than 10‚Äù) }else{
print(‚Äúx is larger than 10‚Äù) }</p>
<p>The if() function will run the code provided in the curly braces {},
if, and only if, the expression in the paranthesis is true. If x is 11,
x is not<br>
smaller than 10, and the first print function will not be executed.</p>
<p>The else-part is not requiered, but normally we will have to execute
some other code if the statement in the if-function is not true. In this
case if x is 11, the first print-function will not be executed, but the
second will.</p>
<p>We use logical tests to handle data differently, depending on some
characteristics of the data.</p>
</section><section><h2 class="section-heading" id="loops">loops<a class="anchor" aria-label="anchor" href="#loops"></a>
</h2>
<hr class="half-width">
<p>Loops are constructs we use to do the same operations on lots of
data.</p>
<div class="section level3">
<h3 id="for-loops">for loops<a class="anchor" aria-label="anchor" href="#for-loops"></a>
</h3>
<p>For loops are constructs used to apply one or more functions on a
series of data.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">temp</span> <span class="op">&lt;-</span> <span class="fu">sqrt</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="fu">print</span><span class="op">(</span><span class="va">temp</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1
[1] 1.414214
[1] 1.732051
[1] 2
[1] 2.236068
[1] 2.44949
[1] 2.645751
[1] 2.828427
[1] 3
[1] 3.162278</code></pre>
</div>
<p>will take every value in the vector 1:10, the digits 1 to 10, one by
one, assign it to a temporary variable i and run the code we write in
the curly braces. Here the for-loop will take all numbers from 1 to 10,
calculate the squareroot of them. The result is assigned to another
temporary variable ‚Äútemp‚Äù and then temp is printed.</p>
<div class="section level4">
<h4 id="danger-will-robinson">Danger Will Robinson<a class="anchor" aria-label="anchor" href="#danger-will-robinson"></a>
</h4>
<p>As a general rule, R does not handle loops very efficiently. This is
a simple loop, operating on only 10 values, and we wont notice the
difference in speed.</p>
<p>But we can measure it.</p>
<p>The Sys.time() function will tell us what time our computer thinks it
is. If we run that just before, and just after our loop, we can
calculate how long it took to run.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tic</span> <span class="op">&lt;-</span> <span class="fu">Sys.time</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">temp</span> <span class="op">&lt;-</span> <span class="fu">sqrt</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="fu">print</span><span class="op">(</span><span class="va">temp</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">toc</span> <span class="op">&lt;-</span> <span class="fu">Sys.time</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">for_time</span> <span class="op">&lt;-</span> <span class="va">toc</span> <span class="op">-</span> <span class="va">tic</span></span></code></pre>
</div>
<p>A more efficient way to calculate the square root of the numbers from
1 to 10 would be use the fact that sqrt() is a vectorized function that
will calculate the square root of every element in a vector used as
input to it:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tic</span> <span class="op">&lt;-</span> <span class="fu">Sys.time</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">sqrt</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span></span>
<span><span class="va">toc</span> <span class="op">&lt;-</span> <span class="fu">Sys.time</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">vect_time</span> <span class="op">&lt;-</span> <span class="va">toc</span> <span class="op">-</span> <span class="va">tic</span></span>
<span><span class="va">vect_time</span></span></code></pre>
</div>
<p>And we can then compare how much faster the latter vectorized
solution is.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">as.numeric</span><span class="op">(</span><span class="va">for_time</span><span class="op">)</span><span class="op">/</span><span class="fu">as.numeric</span><span class="op">(</span><span class="va">vect_time</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 6.707653</code></pre>
</div>
<p>More than double as fast! To be fair most of the time is spent
outputting the results, but as a general rule utilizing the vectorized
nature of functions is faster than writing loops. But that is not always
a luxury we have.</p>
</div>
</div>
<div class="section level3">
<h3 id="while-loops">while loops<a class="anchor" aria-label="anchor" href="#while-loops"></a>
</h3>
<p>While loops are loops that execute the code - as long as some
criterium is satisfied.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="kw">while</span><span class="op">(</span><span class="va">i</span> <span class="op">&lt;=</span> <span class="fl">10</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu">print</span><span class="op">(</span><span class="fu">sqrt</span><span class="op">(</span><span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">i</span> <span class="op">&lt;-</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1
[1] 1.414214
[1] 1.732051
[1] 2
[1] 2.236068
[1] 2.44949
[1] 2.645751
[1] 2.828427
[1] 3
[1] 3.162278</code></pre>
</div>
<p>This loop structure does the exact same as the two previous examples.
Here we need to assign an initial value i, and then our while loop will
execute the code within the curly braces, as long as i is smaller than
or equal to 10. It is important to remember to increment the value of i
- otherwise i will always be 1, and therefore always smaller than 10.
And the loop will never stop.</p>
</div>
</section><section><h2 class="section-heading" id="ggplot">ggplot<a class="anchor" aria-label="anchor" href="#ggplot"></a>
</h2>
<hr class="half-width">
<p>The plotting functions in R produce nice clean plots without any
fancy details. That is generally a good thing, we want to maximize the
information per ink in our plots.</p>
<p>However, we are limited in the types of plots we can make, and
sometimes we just want a bit more color.</p>
<p>Enter ggplot2.</p>
<p>ggplot2 is a package designed to work well with the packages we have
already encountered. It produces plots in a structured way, and comes
with a lot of extensions, that enables us to plot almost anything.</p>
<p>The basic structure of ggplots are:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">data</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>ggplot takes some data. Typically we will provide the data using the
pipe: <code>%&gt;%</code></p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>The <code>mapping</code> argument tells ggplot which variables in our
data should be mapped to the x- and y-axes in our plot.</p>
<p>That in itself will not produce much of a plot. We need to tell
ggplot which type of plot we want.</p>
<p>We do that by adding a <code>geom_</code> function. Here we have
added <code>geom_point</code> which produces a scatter-plot. Other
functions are more intuitively named. <code>geom_col</code> gives us a
column-plot, <code>geom_histogram</code> a histogram etc.</p>
<p>Let us try to make a histogram like we saw earlier:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">interviews_plotting</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">no_membrs</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error: object 'interviews_plotting' not found</code></pre>
</div>
<p>It looks different, and we get a warning about <code>binwidth</code>.
geom_histogram automatically chooses 30 bins for us, and that is
normally not the right number.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Boxplots are useful for visualizing the distribution of a continuous
variable.</li>
<li>Barplots are useful for visualizing categorical data.</li>
<li>Functions allows you to repeat the same set of operations again and
again.</li>
<li>Loops allows you to apply the same function to lots of data.</li>
<li>Logical tests allow you to apply different calculations on different
sets of data.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-whats-next"><p>Content from <a href="whats-next.html">What is the next step?</a></p>
<hr>
<p>Last updated on 2025-12-09 |

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/episodes/whats-next.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 10 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>‚ÄúWhat do I do now?‚Äù</li>
<li>‚ÄúWhat is the next step?‚Äù</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>‚ÄúPresent suggestions for further reading,‚Äù</li>
<li>‚ÄúTips on problems to work on to practice,‚Äù</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="where-to-learn-more">Where to learn more?<a class="anchor" aria-label="anchor" href="#where-to-learn-more"></a>
</h2>
<hr class="half-width">
<p>We have other courses in R - and other stuff.</p>
<p>In our <a href="https://kubkalender.kb.dk/calendar/datalab?cid=6416&amp;t=d&amp;d=0000-00-00&amp;cal=6416&amp;inc=0" class="external-link">calender</a>,
you will find all our activities, courses, seminars, datasprints
etc.</p>
<p>There is an abundance of online courses in R, and a lot of other
subjects.</p>
<p>Some of our favorites include:</p>
<ul>
<li><p><a href="https://www.edx.org/" class="external-link">edx</a></p></li>
<li><p><a href="https://www.datacamp.com/" class="external-link">datacamp</a></p></li>
<li><p><a href="https://cognitiveclass.ai/" class="external-link">cognitive class</a></p></li>
</ul>
<p>A lot of online books also exists:</p>
<ul>
<li><p><a href="https://r4ds.hadley.nz/" class="external-link">R for Data Science</a>.
Absolutely brilliant!</p></li>
<li><p><a href="https://unleash-shiny.rinterface.com/" class="external-link">Outstanding User
Interfaces with Shiny</a></p></li>
</ul></section><section><h2 class="section-heading" id="where-to-find-something-to-practice-on">Where to find something to practice on?<a class="anchor" aria-label="anchor" href="#where-to-find-something-to-practice-on"></a>
</h2>
<hr class="half-width">
<p>You will only get proficient in R by practicing. If you already have
your own data, and something you want to do with it, great! Go
ahead.</p>
<p>But if you would like to find some data to play around with, here are
some suggestions:</p>
<ul>
<li>
<a href="https://www.kaggle.com/" class="external-link">Kaggle</a> is an online
machinelearning competition site. Doing machinelearning might be a bit
premature for you, but they provides acccess to a <em>lot</em> of
interesting datasets.</li>
<li>The <a href="https://kub.kb.dk/datalab/opendata" class="external-link">KUB Datalab
website</a> has a section on Open Data Sources.</li>
<li>
<a href="https://github.com/rfordatascience/tidytuesday/blob/master/README.md" class="external-link">Tidy
Tuesday</a> is an online event, where R enthusiasts every tuesday hack
away on a common dataset. It‚Äôs a great way to both discover new and
interesting datasets, <em>and</em> find inspiration for what to do with
them.</li>
</ul>
<p>If you want to dive into programming with R, rather than ‚Äújust‚Äù data
analysis, we recommend <a href="https://projecteuler.net/" class="external-link">Project
Euler</a>, witch is a collection of numerical problems.</p>
</section><section><h2 class="section-heading" id="but-what-should-i-do-with-that-data">But what should I do with that data?<a class="anchor" aria-label="anchor" href="#but-what-should-i-do-with-that-data"></a>
</h2>
<hr class="half-width">
<p>Sometimes the most challenging thing is actually getting an idea for
doing something.</p>
<p><a href="https://clauswilke.com/dataviz/" class="external-link">Fundamentals of Data
Visualization</a> by Claus O. Wilke is a great book about visualizing
data. No code unfortunately.</p>
<p>The <a href="https://r-graph-gallery.com/" class="external-link">R Graph Gallery</a>
provides both inspiration for visualizations and also the code!</p>
<p><a href="https://www.rscreencasts.com/" class="external-link">R Screencasts</a> - what it
says on the tin. Live data analysis, recorded.</p>
</section><section><h2 class="section-heading" id="contact-us">Contact us!<a class="anchor" aria-label="anchor" href="#contact-us"></a>
</h2>
<hr class="half-width">
<p>The whole reason for the existence of KUB Datalab is to help and
assist students (and teachers and researchers) working with data.</p>
<p>We do not guarantee that we will be able to solve your problems, but
we will do our best to help you.</p>
<p>Our <a href="https://kub.kb.dk/datalab" class="external-link">website</a></p>
<p>Our mail: <a href="mailto:kubdatalab@kb.dk" class="email">kubdatalab@kb.dk</a></p>
<div class="keypoints:">
<ul>
<li>‚ÄúPractice is important!‚Äù</li>
<li>‚ÄúWorking on data that YOU find interesting is a really good
idea,‚Äù</li>
<li>‚ÄúThe amount of ressources online is immense.‚Äù</li>
<li>‚ÄúKUB Datalab is there for your.‚Äù</li>
</ul>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/KUBDatalab/R-intro-christmas/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/KUBDatalab/R-intro-christmas/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/KUBDatalab/R-intro-christmas/" class="external-link">Source</a></p>
        <p>
        <a href="https://github.com/KUBDatalab/R-intro-christmas/blob/main/" class="external-link">Cite</a>
        | <a href="mailto:kubdatalab@kb.dk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
		</div>
		<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY-SA 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.3" class="external-link">sandpaper (0.17.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.9" class="external-link">varnish (1.0.9)</a></p>
		</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://KUBDatalab.github.io/R-intro-christmas/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries, KUB Datalab",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://KUBDatalab.github.io/R-intro-christmas/instructor/aio.html",
  "identifier": "https://KUBDatalab.github.io/R-intro-christmas/instructor/aio.html",
  "dateCreated": "2025-12-24",
  "dateModified": "2025-12-09",
  "datePublished": "2025-12-09"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

